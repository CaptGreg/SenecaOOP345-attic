(function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;h.each(function(){var c=a(this);if((!j.skip_invisible||c.is(":visible"))&&!a.abovethetop(this,j)&&!a.leftofbegin(this,j))if(!a.belowthefold(this,j)&&!a.rightoffold(this,j))c.trigger("appear"),b=0;else if(++b>j.failure_limit)return!1})}var h=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};
f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f));f=j.container===d||j.container===b?e:a(j.container);0===j.event.indexOf("scroll")&&f.bind(j.event,function(){return g()});this.each(function(){var b=this,c=a(b);b.loaded=!1;(c.attr("src")===d||!1===c.attr("src"))&&c.is("img")&&c.attr("src",j.placeholder);c.one("appear",function(){this.loaded||(j.appear&&j.appear.call(b,h.length,j),a("<img />").bind("load",
function(){var d=c.attr("data-"+j.data_attribute);c.hide();c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')");c[j.effect](j.effect_speed);b.loaded=!0;d=a.grep(h,function(a){return!a.loaded});h=a(d);j.load&&j.load.call(b,h.length,j)}).attr("src",c.attr("data-"+j.data_attribute)))});0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})});e.bind("resize",function(){g()});/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",
function(b){b.originalEvent&&b.originalEvent.persisted&&h.each(function(){a(this).trigger("appear")})});a(c).ready(function(){g()});return this};a.belowthefold=function(c,g){return(g.container===d||g.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(g.container).offset().top+a(g.container).height())<=a(c).offset().top-g.threshold};a.rightoffold=function(c,g){return(g.container===d||g.container===b?e.width()+e.scrollLeft():a(g.container).offset().left+a(g.container).width())<=
a(c).offset().left-g.threshold};a.abovethetop=function(c,g){return(g.container===d||g.container===b?e.scrollTop():a(g.container).offset().top)>=a(c).offset().top+g.threshold+a(c).height()};a.leftofbegin=function(c,g){return(g.container===d||g.container===b?e.scrollLeft():a(g.container).offset().left)>=a(c).offset().left+g.threshold+a(c).width()};a.inviewport=function(b,c){return!a.rightoffold(b,c)&&!a.leftofbegin(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,
{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,
document);
(function(a){function b(b,c){var d=b.split("."),h=d.length,j=a,k=0,l;for(k;k<h;k++){l=d[k];if(!j[l]){if(!c)return null;j[l]=k+1===h?c:{}}j=j[l]}return j}var c=/[^a-zA-Z\d\-_]/g,d=Object.prototype.toString;b("slideshare_object.utils",{isString:function(a){return"[object String]"===d.call(a)},isNumber:function(a){return"[object Number]"===d.call(a)},isArray:function(a){return"[object Array]"===d.call(a)},isPlainObject:function(a){return"[object Object]"===d.call(a)},addClass:function(a,b){a=a&&1===
a.nodeType?a:document.querySelector(a);if(!a)return null;a.className?RegExp("\\b"+b+"\\b").test(a.className)||(a.className+=" "+b):a.className=b;return a},sanitizeForCSS:function(a){return a.replace(c,"-")},isUserAuthenticated:function(){var b=a.slideshare_object.user;return"non-member"!==b.member_type&&!1!==b.loggedin&&"guest"!==b.login},exports:function(a,c){b("slideshare_object._modules."+a,c)},imports:function(a){return b("slideshare_object._modules."+a)}})})(window);
(function(a){function b(a){this._groups=this._validateGroups(a)}var c=a.slideshare_object.utils;b.prototype={isValid:function(){return 0<this._groups.length},containsUser:function(){return this._groups.some(function(a){return(a=this._getValidationMethod(a))&&a.call(this)},this)},_validateGroups:function(a){a=c.isArray(a)?a:[a];return a.filter(function(a){return-1!==b.GROUPS.indexOf(a)})},_getValidationMethod:function(a){return this["_userIs"+a.charAt(0).toUpperCase()+a.slice(1)]},_getUser:function(){return a.slideshare_object.user},
_userIsSuperuser:function(){var a=this._getUser();return a&&a.su},_userIsCompany:function(){var a=this._getUser();return a&&a.li}};b.GROUPS=["superuser","company"];c.exports("Whitelist",b)})(window);
(function(a,b){function c(){this._experiments=b[c.LS_NAMESPACE]&&JSON.parse(b[c.LS_NAMESPACE])||{}}var d=a.slideshare_object.utils,e=d.imports("Whitelist");c.prototype={is:function(a,b){return this.getBucket(a)===b},getExperiment:function(a){return this._experiments[a]},getBucket:function(a){return(a=this.getExperiment(a))&&a.bucket},isOverride:function(a){return(a=this.getExperiment(a))&&a.override},deleteExperiment:function(a){return!this.isOverride(a)?(delete this._experiments[a],this._save()):
null},addClass:function(a,b){var c=this.getBucket(b);c&&d.addClass(a,"exp--"+d.sanitizeForCSS(b)+"--"+d.sanitizeForCSS(c));return this},register:function(a,b,c){var c=new e(c),d=this.getBucket(a);if(c.isValid())if(c.containsUser()){if(!d)return this._save(a,this._assign(b))}else{if(d)return this.deleteExperiment(a)}else if(!d)return this._save(a,this._assign(b));return d},override:function(a,b){return this._save(a,this._assign(b),!0)},ga:function(a,b,c,d,e,l){(a=this.getBucket(a))&&_gaq.push(["_trackEvent",
b,c,a+"_"+d,e,!!l]);return null},_assign:function(a){d.isNumber(a)&&(a=[a]);return d.isArray(a)?this._assignFromArray(a):d.isPlainObject(a)?this._assignFromObject(a):d.isString(a)?a:null},_assignFromArray:function(a,b){var d=Math.random(),e,k,b=b||c.BUCKETS;100!==a[a.length-1]&&a.push(100);e=0;for(k=a.length;e<k;e++)if(d<=a[e]/100)return b[e]||c.BUCKETS[e];return null},_assignFromObject:function(a){var b=[],c=[],d;for(d in a)b.push(d),c.push(a[d]);return this._assignFromArray(c,b)},_save:function(a,
d,e){var j=this._experiments,d=d||null;a&&(j[a]={bucket:d},e&&(j[a].override=!0));b[c.LS_NAMESPACE]=JSON.stringify(this._experiments);return d}};c.BUCKETS="abcdef".split("");c.LS_NAMESPACE="slideshare.experiments";d.exports("Experiments",c)})(window,window.localStorage||{});(function(a){a=new (a.slideshare_object.utils.imports("Experiments"));a.deleteExperiment("enable-clipping");a.register("enable-clipping","bottom",["superuser","company"]);a.register("slideview-action-buttons",50,"superuser")})(window);
(function(a){for(var b=["Width","Height"],c;c=b.pop();)(function(b,c){a.fn[b]=b in new Image?function(){return this[0][b]}:function(){var a=this[0],b;"img"===a.tagName.toLowerCase()&&(b=new Image,b.src=a.src,b=b[c]);return b}})("natural"+c,c.toLowerCase())})(jQuery);
(function(a){a.fn.rwdImageMaps=function(){var b=this,c=parseFloat(a.fn.jquery);a(window).resize(function(){b.each(function(){if("undefined"!=typeof a(this).attr("usemap")){var b=this,e=a(b);a("<img />").load(function(){var f,g;1.6>c?(f=b.getAttribute("width"),g=b.getAttribute("height")):(f=e.attr("width"),g=e.attr("height"));if(!f||!g){var h=new Image;h.src=e.attr("src");f||(f=h.width);g||(g=h.height)}var j=e.width()/100,k=e.height()/100,h=e.attr("usemap").replace("#","");a('map[name="'+h+'"]').find("area").each(function(){var b=
a(this);b.data("coords")||b.data("coords",b.attr("coords"));for(var c=b.data("coords").split(","),d=Array(c.length),e=0;e<d.length;++e)d[e]=0===e%2?parseInt(100*(c[e]/f)*j):parseInt(100*(c[e]/g)*k);b.attr("coords",d.toString())})}).attr("src",e.attr("src"))}})}).trigger("resize");return this}})(jQuery);function ModalShare(a){(this.config=a)&&this.init()}
ModalShare.prototype.init=function(){this.$container=$(this.config.el);this.$shareBtn=$(this.config.btnShare);this.$shareEmailMsg=this.$container.find(".j-share-email-msg");this.$addMsgButton=this.$container.find(".j-add-msg");this.$emailSentButton=this.$container.find(".j-email-sent");this.$shareEmailSend=this.$container.find("#share-email-send");this.$shareEmailForm=this.$container.find(".j-share-email-form");this.$linkURLInput=this.$container.find(".j-share-link-url");this.$close=this.$container.find(".j-modal-close");
this.$contentWrapper=this.$container.find(".modal-content-wrapper");this.gaTrackCategory=this.$container.data("ga-track-category");this.gaTrackAction=this.$container.data("ga-track-action");this.createShareHash();slideshare_object&&(slideshare_object.user&&!0===slideshare_object.user.loggedin&&null!==slideshare_object.user.login)&&this.$container.find(".j-share-email-name").val(slideshare_object.user.login);this.bindModalToShareButtons();this.bindModalEvents();this.bindCustomModalEvents();this.adjustShareModalTop()};
ModalShare.prototype.get_viral_share_url=function(a){$elem=$("li."+a+" a");var b=this.data.ssLink;0<$elem.length&&(b=$.param($elem.data()),!b&&(b=this.data.ssLink));return this.SHARE_HASH[a]+b};ModalShare.prototype.get_viral_share_urls=function(){return{facebook:this.get_viral_share_url("facebook"),linkedin:this.get_viral_share_url("linkedin"),twitter:this.get_viral_share_url("twitter"),wordpress:this.get_viral_share_url("wordpress"),pinterest:this.get_viral_share_url("pinterest"),googleplus:this.get_viral_share_url("googleplus")}};
ModalShare.prototype.sharePopup=function(a){var b=this.data.social[a];if(void 0!==b){if("facebook"===a){if(window.FB){this.trackShareClick(a);this.postToFacebook();return}}else if("linkedin"===a&&window.IN&&window.IN.UI){IN.UI.Share().params({url:this.data.ssLink}).place();this.trackShareClick(a);this.saveShare(a);return}window.open(b,"shareDialog","width=626,height=436");this.trackShareClick(a);this.saveShare(a)}};ModalShare.prototype.show=function(){this.reset();this.$container.show();this.shareGATracking("modalOpen")};
ModalShare.prototype.close=function(){this.reset();this.$container.hide()};ModalShare.prototype.reset=function(){this.$container.find(".j-embed-use-ssl-cbox").prop("checked",!1);$(".j-modal-popup").scrollTop(0);this.clearEmailFields();this.$shareEmailForm.show();this.$emailSentButton.hide();this.collapseAllSections()};
ModalShare.prototype.updateEmbed=function(){var a=this.$container.find(".j-share-embed-link"),b=a.val(),c=this.$container.find(".j-embed-size-picker").val(),d=this.$container.find(".j-embed-size-picker :selected").data("width")||this.config.embed_sizes.presets[c].size.width,c=this.$container.find(".j-embed-size-picker :selected").data("height")||this.config.embed_sizes.presets[c].size.height,e=b.match(/src="([^"]+)"/)[1].split("?")[0],f=this.$container.find(".j-embed-start-picker").prop("selectedIndex")+
1||1,b=b.replace(/src="[^"]+"/,'src="'+(e+(1<f?"?startSlide="+f:""))+'"'),b=b.replace("http:",""),b=b.replace("https:",""),b=b.replace(/height="\d+"/,'height="'+c+'"'),b=b.replace(/width="\d+"/,'width="'+d+'"');a.val(b);this.shareGATracking("share_embed","updateembed")};ModalShare.prototype.clearEmailErrorAlerts=function(){$(".error").removeClass("error")};ModalShare.prototype.clearEmailFields=function(){this.$container.find(".j-email-clear").val("");this.$shareEmailSend.prop("disabled",!1);this.clearEmailErrorAlerts()};
ModalShare.prototype.sendShareEmail=function(){this.shareGATracking("share_email","send");var a=this,b=this.$container.find(".j-share-email-to").val(),c=this.$container.find(".j-share-email-name").val(),d=this.$shareEmailMsg.val(),e=!1;a.$shareEmailSend.val("");a.$shareEmailSend.addClass("sending");a.$shareEmailSend.prop("disabled",!0);a.clearEmailErrorAlerts();e||(e=!0,$.post("/list/email_share",{data:{id:this.data.ssId,name:c,recipients:b,msg:d},dataType:"json"}).done(function(b){if(0===b.respCode)a.clearEmailFields(),
a.$shareEmailForm.slideUp(400),a.collapseAllSections(),a.$container.find("#email-sent").slideDown(400),setTimeout(function(){a.$container.find("#email-sent").slideUp(400);a.$shareEmailForm.slideDown(400)},2E3),a.$contentWrapper.removeClass("email-expanded");else{var c=a.$container.find(".j-email-flash");c.text(b.resp).show();switch(b.respCode){case 1:a.$container.find(".j-share-email-to").addClass("error");break;case 2:a.$container.find(".j-share-email-name").addClass("error")}setTimeout(function(){c.fadeOut(400)},
5E3)}e=!1;a.$shareEmailSend.val("Send");a.$shareEmailSend.removeClass("sending");a.$shareEmailSend.prop("disabled",!1)}).fail(function(){e=!1;a.$shareEmailSend.val("Send");a.$shareEmailSend.removeClass("sending");a.$shareEmailSend.prop("disabled",!1)}))};ModalShare.prototype.shareGATracking=function(a,b){var c=window._gaq||[],a=this.gaTrackAction?this.gaTrackAction+"_"+a:a;c.push(["_trackEvent",this.gaTrackCategory,a,b])};
ModalShare.prototype.renderSlideStartOptions=function(){for(var a="",b=0;b<this.data.totalSlides;b++){var c="slide "+(b+1),a=a+"<option ";0===b&&(a+=' selected="selected"');a+=">"+c+"</option>"}b=this.$container.find(".j-embed-start-picker, .j-share-start-picker");b.empty();b.append(a);this.updateStartSlide()};
ModalShare.prototype.renderDefaultEmbedOptions=function(){var a={"0":{small:[344,292],"default":[429,357],large:[514,422],xlarge:[599,487]},1:{small:[386,410],"default":[481,512],large:[576,614],xlarge:[672,716]}}[this.data.ssType%2],b="",c;for(c in a){var d=a[c][0]+" x "+a[c][1],b=b+('<option value="'+c+'" data-width="'+a[c][0]+'" data-height="'+a[c][1]+'"');"default"===c&&(b+=" selected");b+=">"+d+"</option>"}a=this.$container.find(".j-embed-size-picker");a.empty();a.append(b);this.$container.find(".j-embed-start-picker").prop("selecteIndex",
1);this.$container.find(".j-share-embed-wp").val(this.data.social.wordpress);this.$container.find(".j-share-embed-link").text(this.data.embedCode)};ModalShare.prototype.toggleAddMessageHeight=function(a){this.$shareEmailMsg.toggleClass("msg-expanded",a)};ModalShare.prototype.collapseAllSections=function(){$(".j-share-expand").slideUp();$("#share-embed-link").scrollTop(0);$(".j-triggered").removeClass("j-triggered");this.toggleAddMessageHeight(!1)};
ModalShare.prototype.triggerExpand=function(a){this.collapseAllSections();$(a).addClass("j-triggered");$(a).siblings(".j-share-expand").slideDown(400,this.adjustShareModalTop.bind(this));this.$contentWrapper.removeClass("email-expanded embed-expanded");$(a).hasClass("j-share-email-to")?this.$contentWrapper.addClass("email-expanded"):$(a).hasClass("j-share-embed-link")&&this.$contentWrapper.addClass("embed-expanded")};
ModalShare.prototype.getNewSlideURL=function(a,b){var c=document.createElement("a");c.href=a;var d=c.pathname.split("/");d[0]||d.shift();for(var e=d.length,f=d[e-1];!f&&0<e;)d.pop(),e--,f=d[e-1];parseInt(f,10)&&2<e&&d.pop();1<b&&d.push(b);c.pathname=d.join("/");return c.href};ModalShare.prototype.getSlideImageURL=function(a){return $('#svPlayerId .slide[data-index="'+a+'"] .slide_image').data("full")};
ModalShare.prototype.bindModalEvents=function(){var a=this;this.$close.bind("click",function(){a.close()});this.$container.find(".j-share-start-picker").change(function(){a.updateStartSlide();a.shareGATracking("share_social",$(this).data("ga"))});this.$shareEmailForm.submit(function(b){b.preventDefault();b.stopPropagation();a.sendShareEmail()});this.$shareEmailMsg.click(function(){a.toggleAddMessageHeight(!0)});this.$container.find(".j-share-email-to, .j-share-email-name").click(function(){a.toggleAddMessageHeight(!1)});
this.$container.find(".j-share-social-list li").click(function(){a.sharePopup($(this).data("network"))});this.$container.find(".j-update-embed").change(function(){a.updateEmbed()});this.$container.find(".j-share-embed-link, .j-share-embed-wp, .j-last-screen-ssurl").bind("click",function(){this.select()});this.$container.find(".j-share-link-url").click(function(){this.select();a.shareGATracking("share_social",$(this).data("ga"))});this.$container.find(".j-share-email-form input, .j-share-email-form textarea, .j-add-msg, .j-send-another-email").click(function(){"send"!==
$(this).data("ga")&&a.shareGATracking("share_email",$(this).data("ga"))});this.$container.find(".j-embed-use-ssl-cbox, .j-embed-related-cbox, .j-embed-size-picker, .j-embed-start-picker").click(function(){a.shareGATracking("share_embed",$(this).data("ga"))});this.$container.find(".j-share-expand-trigger").click(function(){0<$(this).siblings(".j-share-expand:visible").length||a.triggerExpand(this)});$(window).resize(function(){a.adjustShareModalTop()});$(document).keydown(function(b){27===b.which&&
(b.preventDefault(),a.close())});$(".j-modal-popup").on("scroll",function(){a.$close.css("top",8+$(this).scrollTop()+"px")})};ModalShare.prototype.bindCustomModalEvents=function(){};ModalShare.prototype.createShareHash=function(){this.SHARE_HASH={facebook:"https://www.facebook.com/sharer/sharer.php?u=",linkedin:"https://www.linkedin.com/cws/share?trk=SLIDESHARE&",twitter:"https://twitter.com/share?",googleplus:"https://plus.google.com/share?",wordpress:"",pinterest:"https://pinterest.com/pin/create/button/?"}};
ModalShare.prototype.getSSId=function(a){return a.length?a.data("slideshowid"):slideshare_object.modal_player.get_ss_id()};ModalShare.prototype.bindModalToShareButtons=function(){};ModalShare.prototype.trackShareClick=function(){};ModalShare.prototype.saveShare=function(a){$.post("/share/viralshare",{data:{id:this.data.ssId,network:a}})};ModalShare.prototype.showLikeUsModal=function(){};
ModalShare.prototype.postToFacebook=function(){var a=this;window.FB&&FB.ui({method:"feed",display:"popup",link:this.data.ssLink},function(b){b&&b.post_id&&a.saveShare("facebook")})};ModalShare.prototype.adjustShareModalTop=function(){};ModalShare.prototype.updateStartSlide=function(){};function PlayerModalShare(a,b){this.config=$.extend(a,b.config);this.sslastscreen=b;a&&this.init();this.gaCategory=this.config.gaCategory?this.config.gaCategory:b.gaCategory}PlayerModalShare.prototype=new ModalShare;
PlayerModalShare.prototype.set_data=function(){this.data={ssLink:this.getNewSlideURL($(".j-share-social-list").data("canonical-url"),1),ssId:this.sslastscreen.config.slideshowId,totalSlides:this.sslastscreen.config.totalSlides};this.data.social=this.get_viral_share_urls();this.SHARE_ABBRS={facebook:"fb",linkedin:"li",twitter:"tw",googleplus:"gp",pinterest:"pi"};this.renderSlideStartOptions()};
PlayerModalShare.prototype.showLikeUsModal=function(){if(0===$("#fb_like_modal").length){$("body").append('<div class="modal fade hide" id="fb_like_modal" style="width:auto;top:85%;"></div>');var a=this;$("#fb_like_modal").load("/fb_share_complete",function(){$("#like_iframe").click(function(){a.shareGATracking("fb_likeus","click")})})}$("#last-screen-modal-share .j-modal-close").click();$("#fb_like_modal").modal("show")};PlayerModalShare.prototype.bindCustomModalEvents=function(){this.set_data()};
PlayerModalShare.prototype.close=function(){$("#svPlayerId").hasClass("infographic_player")&&$("body").removeClass("overflow_hidden");this.reset();this.$container.hide();this.sslastscreen.restoreLastScreenState();this.sslastscreen.isShareScreenVisible=!1;this.shareGATracking("modalClose")};PlayerModalShare.prototype.trackShareClick=function(a){this.shareGATracking(this.SHARE_ABBRS[a],"share_open")};
PlayerModalShare.prototype.shareGATracking=function(a,b){"undefined"!==typeof b&&(a=a+"_"+b);$.slideshareEventManager.trackEvent(this.gaCategory+a)};
ModalShare.prototype.updateStartSlide=function(){var a=$(".j-share-start-picker").prop("selectedIndex")+1||1;if(!(0>=a)){var b=this;$(".j-share-social-list li a").each(function(){var c=$(this).data("url");c&&$(this).data("url",b.getNewSlideURL(c,a))});this.data.ssLink=this.getNewSlideURL(this.data.ssLink,a);$("#share-link-url").prop("value",this.getNewSlideURL($("#share-link-url").prop("value"),a));$(".j-share-social-list li.pinterest a").data("media",this.getSlideImageURL(a));$(".j-embed-start-picker").prop("selectedIndex",
a-1);this.updateEmbed();this.data.social=this.get_viral_share_urls()}};
(function(a){function b(){this._$events=$({})}a=a.slideshare_object.utils;b.prototype={render:function(a){return!a.find(".clips-create-form").length?(this._$form=this._$form||this._build(),a.empty().append(this._$form),this._clearErrorState(),this._$input.val("").focus(),this._$form.off().submit(this._handleSubmit.bind(this)),!0):!1},on:function(a,b){this._$events.off(a).on(a,b)},_build:function(){var a=this._$form=$("<form>").attr("action","/clipboards").attr("method","post").addClass("clips-create-form");
this._$input=$("<input>").attr("type","text").attr("placeholder","Name your clipboard").attr("maxlength",255);this._$submit=$("<button>").text("Create Clipboard");a.append(this._$input,this._$submit);return a},_buildError:function(){return $("<div>").addClass("error").append($("<span>").addClass("error-message"))},_appendError:function(a){this._$error=this._$error||this._buildError();this._$error.find(".error-message").text(a);this._$form.append(this._$error)},_clearErrorState:function(){var a=this._$error;
a&&a.parent().length&&a.remove();this._$form.removeClass("error")},_handleSubmit:function(a){var b=this._$form;a.preventDefault();this._clearErrorState();$.ajax({url:b.attr("action"),method:b.attr("method"),data:{title:this._$input.val()}}).then(this._handleSuccess.bind(this),this._handleFailure.bind(this))},_handleSuccess:function(a){this._$events.trigger(b.CREATE_EVENT,a)},_handleFailure:function(a){this._appendError("Name "+a.responseJSON.errors.title[0]);this._$form.addClass("error")}};b.CREATE_EVENT=
"clipsCreateForm:create";a.exports("clips.CreateForm",b)})(window);function SSFlaggingEmbeds(a){"undefined"!==typeof a&&(this.$flag_menu=$(a.flag_menu),this.$flag_btn=$(".j-action-flag"),this.init())}SSFlaggingEmbeds.prototype.remove_flagged_message=function(a){var b=this,c=b.$flag_menu.find(".flag-list");b.$flag_menu.find(a).show()&&c.hide();setTimeout(function(){b.$flag_menu.find(".j-flag-message").hide();c.show();b.$flag_menu.hide()},3E3)};
SSFlaggingEmbeds.prototype.post_update=function(a){var b=this;$.post(slideshare_object.flagging.update_url,{ia_value:a,slideshow_id:b.$flag_menu.data("ssid"),source:"embeds"},function(){b.$flag_btn.addClass("flagged");b.remove_flagged_message("#flag-message-success")}).fail(function(a,d,e){"abort"!==e&&b.remove_flagged_message("#flag-message-error")})};
SSFlaggingEmbeds.prototype.init=function(){var a=this;if(slideshare_object.user.loggedin)a.$flag_menu.on("click","li",function(){a.post_update($(this).attr("value"))});else a.$flag_menu.on("click","li",function(b){logged_out_handler=slideshare_object.canInitiateLoginModalInAncestorFrame(window,2);"undefined"!==typeof logged_out_handler?(b.preventDefault(),b.stopPropagation(),b={event:"flag",data:{ia_value:$(this).attr("value"),source:"embeds",slideshow_id:a.$flag_menu.data("ssid")}},slideshare_object.addAfterLoginEvent(b),
logged_out_handler(a.$flag_btn)):window.open(a.$flag_btn.attr("href"))})};SSFlaggingEmbeds.prototype.toggleFlagMenu=function(){this.$flag_menu&&this.$flag_menu.toggle("fast")};
(function(a){function b(){}function c(a){E=[a]}function d(a,b,c){return a&&a.apply(b.context||b,c)}function e(e){function K(a){y++||(z(),A&&(G[n]={s:[a]}),L&&(a=L.apply(e,[a])),d(H,e,[a,M,e]),d(N,e,[e,M]))}function F(a){y++||(z(),A&&a!=O&&(G[n]=a),d(I,e,[e,a]),d(N,e,[e,a]))}var e=a.extend({},P,e),H=e.success,I=e.error,N=e.complete,L=e.dataFilter,B=e.callbackParameter,Q=e.callback,W=e.cache,A=e.pageCache,R=e.charset,n=e.url,r=e.data,S=e.timeout,C,y=0,z=b,m,v,J;T&&T(function(a){a.done(H).fail(I);H=
a.resolve;I=a.reject}).promise(e);e.abort=function(){!y++&&z()};if(!1===d(e.beforeSend,e,[e])||y)return e;n=n||h;r=r?"string"==typeof r?r:a.param(r,e.traditional):h;n+=r?(/\?/.test(n)?"&":"?")+r:h;B&&(n+=(/\?/.test(n)?"&":"?")+encodeURIComponent(B)+"=?");!W&&!A&&(n+=(/\?/.test(n)?"&":"?")+"_"+(new Date).getTime()+"=");n=n.replace(/=\?(&|$)/,"="+Q+"$1");A&&(C=G[n])?C.s?K(C.s[0]):F(C):(U[Q]=c,m=a(u)[0],m.id=l+X++,R&&(m[g]=R),V&&11.6>V.version()?(v=a(u)[0]).text="document.getElementById('"+m.id+"')."+
q+"()":m[f]=f,Y&&(m.htmlFor=m.id,m.event=p),m[t]=m[q]=m[w]=function(a){if(!m[D]||!/i/.test(m[D])){try{m[p]&&m[p]()}catch(b){}a=E;E=0;a?K(a[0]):F(j)}},m.src=n,z=function(){J&&clearTimeout(J);m[w]=m[t]=m[q]=null;x[s](m);v&&x[s](v)},x[k](m,B=x.firstChild),v&&x[k](v,B),J=0<S&&setTimeout(function(){F(O)},S));return e}var f="async",g="charset",h="",j="error",k="insertBefore",l="_jqjsp",p="onclick",q="on"+j,t="onload",w="onreadystatechange",D="readyState",s="removeChild",u="<script>",M="success",O="timeout",
U=window,T=a.Deferred,x=a("head")[0]||document.documentElement,G={},X=0,E,P={callback:l,url:location.href},V=U.opera,Y=!!a("<div>").html("<\!--[if IE]><i><![endif]--\>").find("i").length;e.setup=function(b){a.extend(P,b)};a.jsonp=e})(jQuery);function SSDocumentSlider(a){this._init(a)}SSDocumentSlider.prototype._initInner=function(){this.inner=this.container.find(".slidesContainer")};
SSDocumentSlider.prototype._init=function(a){this.MIN_THUMB_HEIGHT=this.MIN_THUMB_WIDTH=30;this.X_SCROLLBAR_HEIGHT=this.Y_SCROLLBAR_WIDTH=10;this.dDisplayer=a.dDisplayer;this.container=this.dDisplayer.container;this.isMobile="undefined"!==typeof config&&"mobile_slideview"===config.hosted_in;this.container.addClass("documentSliderEnabled");this.viewHeight=this.container.height();this.viewWidth=this.container.width();this.isMobile||(this.keypressHandlerBound=!1,this.bindKeypressHandler(),this.bindWheelHandler());
this.initScrollbars()};
SSDocumentSlider.prototype.initScrollbars=function(){var a={width:this.container.width()-this.Y_SCROLLBAR_WIDTH,bottom:$(".toolbar").height()+8},b={height:this.container.height()-this.X_SCROLLBAR_HEIGHT,top:$(".actions").height()+1};this.scrollbarX=$('<div id="docscroller-bar-x" class="docscroller-bar">&nbsp;</div>');this.scrollbarY=$('<div id="docscroller-bar-y" class="docscroller-bar">&nbsp;</div>');this.scrollbarX.css(a);this.scrollbarY.css(b);$(".playerWrapper").append(this.scrollbarX);$(".playerWrapper").append(this.scrollbarY)};
SSDocumentSlider.prototype.drawThumbs=function(){var a=$(".slidesContainer").width(),b=$(".slidesContainer").height();0===a||0===b||(a=Math.ceil(this.viewWidth*this.scrollbarX.width()/a),b=Math.ceil(this.viewHeight*this.scrollbarY.height()/b),a=Math.max(this.MIN_THUMB_WIDTH,a),b=Math.max(this.MIN_THUMB_HEIGHT,b),this.thumbX||(this.thumbX=$('<div id="docscroller-thumb-x" class="docscroller-thumb">&nbsp;</div>'),this.scrollbarX.append(this.thumbX)),this.thumbY||(this.thumbY=$('<div id="docscroller-thumb-y" class="docscroller-thumb">&nbsp;</div>'),
this.scrollbarY.append(this.thumbY)),this.thumbXTravelLength=this.scrollbarX.width()-a,this.thumbYTravelLength=this.scrollbarY.height()-b,this.scrollbarX.css("display",this.thumbXTravelLength?"block":"none"),this.thumbX.css("display",this.thumbXTravelLength?"block":"none"),this.thumbX.css("width",a),this.thumbY.css("height",b))};
SSDocumentSlider.prototype.updateInnerFromThumbX=function(){var a=parseInt(this.thumbX.css("left"),10)/this.thumbXTravelLength,a=(this.viewWidth-this.inner.width())*a;this.inner.css("left",a)};SSDocumentSlider.prototype.updateInnerFromThumbY=function(){var a=parseInt(this.thumbY.css("top"),10)/this.thumbYTravelLength,a=(this.viewHeight-this.inner.height())*a;this.inner.css("top",a);this._postScroll()};
SSDocumentSlider.prototype.makeScrollbarsClickable=function(){var a=this;this.scrollbarX.click(function(b){b=b.pageX-$(this).offset().left;b=Math.max(0,Math.min(b,a.thumbXTravelLength));a.thumbX.css("left",b);a.updateInnerFromThumbX()});this.scrollbarY.click(function(b){b=b.pageY-$(this).offset().top;b=Math.max(0,Math.min(b,a.thumbYTravelLength));a.thumbY.css("top",b);a.updateInnerFromThumbY()})};
SSDocumentSlider.prototype.makeThumbsDraggable=function(){var a=this;this.thumbX.click(function(a){a.stopPropagation()});this.thumbY.click(function(a){a.stopPropagation()});this.thumbX.mousedown(function(b){$(this).addClass("active");var c=parseInt(a.thumbX.css("left"),10);a.inner||a._initInner();$(window).mousemove(function(d){d.preventDefault();a._clearSelection();d=c+d.screenX-b.screenX;d=Math.max(0,Math.min(d,a.thumbXTravelLength));a.thumbX.css("left",d);a.updateInnerFromThumbX()}).one("mouseup",
function(){a.thumbX.removeClass("active");$(window).unbind("mousemove")})});this.thumbY.mousedown(function(b){$(this).addClass("active");var c=parseInt(a.thumbY.css("top"),10);a.inner||a._initInner();$(window).mousemove(function(d){d.preventDefault();a._clearSelection();d=c+d.screenY-b.screenY;d=Math.max(0,Math.min(d,a.thumbYTravelLength));a.thumbY.css("top",d);a.updateInnerFromThumbY()}).one("mouseup",function(){a.thumbY.removeClass("active");$(window).unbind("mousemove")})})};
SSDocumentSlider.prototype.scrollHandler=function(a,b){this.inner||this._initInner();var c=parseInt(this.inner.css("left"),10),d=parseInt(this.inner.css("top"),10),e=this.container.width()-this.inner.width(),c=Math.min(0,c+a),d=Math.min(0,d+b),c=Math.max(e,c),d=Math.max(d,this.viewHeight-this.inner.height());this.inner.css({left:c,top:d});this.thumbX&&(e=(this.thumbX.width()-this.scrollbarX.width())*c/(this.inner.width()-this.viewWidth),this.thumbX.css("left",e));this.thumbY&&(e=(this.thumbY.height()-
this.scrollbarY.height())*d/(this.inner.height()-this.viewHeight),this.thumbY.css("top",e));e=this.dDisplayer.detectCurrentSlide();$.slideshareEventManager.trigger("slidescrolled",{index:e,alreadyInPosition:!0})};SSDocumentSlider.prototype._clearSelection=function(){"function"===typeof window.getSelection().empty?window.getSelection().empty():"function"===typeof window.getSelection.collapseToStart&&window.getSelection().collapseToEnd()};
SSDocumentSlider.prototype.topEdge=function(){return Math.abs(parseInt(this.inner.css("top"),10))};
SSDocumentSlider.prototype.bindKeypressHandler=function(){var a=this;$(".playerWrapper").on("click",function(b){b.stopImmediatePropagation();a.keypressHandlerBound||(a.keypressHandlerBound=!0,$(document).on("keydown",function(b){var d=[];d[38]="up";d[40]="down";d[37]="left";d[39]="right";d[33]="up";d[34]="down";if(d[b.keyCode])switch(b.preventDefault(),d[b.keyCode]){case "up":a.scrollHandler(0,100);break;case "down":a.scrollHandler(0,-100);break;case "left":a.scrollHandler(100,0);break;case "right":a.scrollHandler(-100,
0)}}),$("body").one("click",function(){a.keypressHandlerBound=!1;$(document).off("keydown")}))})};
SSDocumentSlider.prototype.bindWheelHandler=function(){var a=this;this.wheelEventName="DOMMouseScroll";if("object"===typeof document.onmousewheel)this.wheelEventName="mousewheel";else try{new WheelEvent("wheel"),this.wheelEventName="wheel"}catch(b){}this.wheelEventName+=".SSDocumentSlider";this.container.bind(this.wheelEventName,function(b){b.preventDefault();if(!a.wheelXDimension||!a.wheelYDimension)b.originalEvent.wheelDeltaX||b.originalEvent.wheelDeltaY?(a.wheelXDimension=function(a){return a.originalEvent.wheelDeltaX},
a.wheelYDimension=function(a){return a.originalEvent.wheelDeltaY}):b.originalEvent.deltaX||b.originalEvent.deltaY?(a.wheelXDimension=function(a){return-a.originalEvent.deltaX},a.wheelYDimension=function(a){return-a.originalEvent.deltaY}):b.originalEvent.axis?(a.wheelXDimension=function(a){return 1===a.originalEvent.axis?-10*a.originalEvent.detail:0},a.wheelYDimension=function(a){return 2===a.originalEvent.axis?-10*a.originalEvent.detail:0}):b.originalEvent.wheelDelta&&(a.wheelXDimension=function(a){return 840<=
Math.abs(a.originalEvent.wheelDelta)?a.originalEvent.wheelDelta:0},a.wheelYDimension=function(a){return 840>Math.abs(a.originalEvent.wheelDelta)?a.originalEvent.wheelDelta:0});a.scrollHandler.call(a,a.wheelXDimension(b),a.wheelYDimension(b))})};SSDocumentSlider.prototype._postScroll=function(){$.slideshareEventManager.trigger("slidescrolled",{index:this.dDisplayer.detectCurrentSlide(),alreadyInPosition:!0})};
SSDocumentSlider.prototype.cleanup=function(){this.scrollbarX.remove();this.scrollbarY.remove();this.container.removeClass("documentSliderEnabled");$(".playerWrapper").off("click");this.container.unbind(this.wheelEventName)};
"undefined"===typeof window.cookie&&(window.cookie=function(a,b,c){if("undefined"!=typeof b){c=c||{};null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString))"number"==typeof c.expires?(d=new Date,d.setTime(d.getTime()+864E5*c.expires)):d=c.expires,d="; expires="+d.toUTCString();var e=c.path?"; path="+c.path:"",f=c.domain?"; domain="+c.domain:"",c=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,e,f,c].join("")}else{b=null;if(document.cookie&&
""!==document.cookie){c=document.cookie.split(";");for(d=0;d<c.length;d++)if(e=jQuery.trim(c[d]),e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}});
void 0===$.slideshareEventManager&&$.extend({slideshareEventManager:{SHOUTEVENTS:{next:!0,previous:!0,gotoslide:!0,slidechanged:!0,leadcreated:!0,insight:!0,flag:!0},stats:{viewer_id:window.cookie("_uv_id")||Math.ceil(1E8*Math.random()),session_id:Math.ceil(1E8*Math.random()),last_slide:1,last_activity:$.now()},functions:{showlastscreen:function(){var a=this.controller;a.isValidNextSlideshowExperiment()?this.trigger("showNextSlideshow"):(a.displayLastScreen(),a.currentComponentSet.leadForm.canShowAtEndOfSlideshow()&&
(this.onLastSlide=!0,this.trigger("showleadform_navigation")))},hidelastscreen:function(){this.controller.hideLastScreen()},gotofirstslide:function(){var a=this.controller;this.trigger("hideNextSlideshow");a.play(1);"video"===a.config.player_type&&a.multimediaResource&&a.multimediaResource.videoPlayer.seek(0).play(!0)},next:function(a){var b=this.controller;if("iframe"==b.mode)b.currentComponentSet.slidedisplayer.next();else{var c=b.currentPosition,d=b.slideCount,e=a&&a.touchedSlideNo,f=b.slides[c];
e<c-3||(e>d-1&&b.lastSlideReached(),"ytube_video"===f.config.slideMode&&f._pauseVideo(),c===d&&"undefined"===typeof new_mobile_player?(this.onLastSlide=!0,b.isValidNextSlideshowExperiment()?this.trigger("showNextSlideshow"):this.trigger("showlastscreen")):(this.onLastSlide=!1,c+=1,a=a&&a.source,b.play(c,!1,a,{updateBamboo:!0}),a||(a="right_arrow_key"),$.slideshareEventManager.trackEvent(a+"_"+c),$.slideshareEventManager.trackEvent(a+"_"+this.controller.currentViewMode)))}},previous:function(a){var b=
this.controller;if("iframe"==b.mode)b.currentComponentSet.slidedisplayer.previous();else{var c=b.currentPosition,d=c-1,e=a&&a.source;this.trigger("hideNextSlideshow");b.slides[c].stop();b.play(d,!1,e,{updateBamboo:!0});a&&a.source&&$.slideshareEventManager.trackEvent(a.source+"_"+d)}},showNextSlideshow:function(){this.controller.showNextSlideshowCTA()},hideNextSlideshow:function(){this.controller.isValidNextSlideshowExperiment()&&this.controller.hideNextSlideshowCTA()},updateNextSlideshowCookie:function(a){var b=
window.cookie("next_slideshows_seen_ids"),c="clear"===a?-1:1;b&&4E3<=b.length?c=-1:b?(b=b.split(","),-1===b.indexOf(a.toString())&&b.push(a)):b=[this.controller.config.id,a];window.cookie("next_slideshows_seen_ids",b,{expires:c,path:"/"})},mobileScrollPlayingMode:function(a){this.controller.playingMode=a},gotolastslide:function(){var a=this.controller;a.play(a.slideCount)},document_touch_scroll:function(a){this.controller.currentComponentSet.slidedisplayer.manualScroll(a.delta)},toggleaudio:function(){var a=
this.controller;a.multimediaResource&&a.multimediaResource.togglePlay()},audioplayed:function(){this.controller.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!0})},audiopaused:function(){this.controller.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!1})},videoready:function(a){var b=this.controller;b.initVideoPlayer(a.mode);b.currentComponentSet.videobar._bindEvents()},gotoslide:function(a){this.controller.play(a.index,void 0,void 0,{updateBamboo:!0});this.trigger("hideNextSlideshow");
$.slideshareEventManager.trackEvent("jumptoslide_"+a.index)},viewonss:function(){window.open(this.controller.config.slideview_url,"viewer")},viewfullscreen:function(){var a=this.controller,b=a.currentComponentSet;if(!("nativefullscreen"==a.currentViewMode||"fullscreen"==a.currentViewMode)){"document"===a.config.player_type&&b.slidedisplayer.setZoom(0);b.videobar&&(a.disableLeadForFullscreenVideo(!0),b.slidedisplayer.adjustSpinnerPosition(!0));if(a.isNativeFullScreenSupported){b.container.addClass("fullscreen");
a.switchNativeView("nativefullscreen");if("undefined"!==typeof SSDocumentDisplayer&&a.currentComponentSet.slidedisplayer instanceof SSDocumentDisplayer){var c=a.currentPosition;setTimeout(function(){a.play(c,!0)},500)}a.currentComponentSet.toolbar.showFullscreenToolbar(!0)}else{if(isIEAllVersion){"undefined"!==typeof SSVideoEmbedSlide&&(a.currentPosition&&a.slides[a.currentPosition]instanceof SSVideoEmbedSlide)&&a.slides[a.currentPosition].stop();window.open(a.getFullScreenUrl(),"_blank","width="+
screen.width+",height="+screen.height+",location=no");return}a.switchToFullScreen()}"nativefullscreen"===a.currentViewMode&&_gaq.push(["_trackPageview","/"+this.hostedIn+"FullscreenView"])}},leavefullscreen:function(){var a=this.controller;a.currentComponentSet.toolbar.showFullscreenToolbar(!1);if("normal"!=a.currentViewMode){a.leaveFullScreen();if("undefined"!==typeof SSDocumentDisplayer&&a.currentComponentSet.slidedisplayer instanceof SSDocumentDisplayer){var b=a.currentPosition;setTimeout(function(){a.play(b,
!0)},100)}a.currentComponentSet.toolbar.$fullscreenTitleBanner&&a.currentComponentSet.toolbar.$fullscreenTitleBanner.hide()}},zoomin:function(){this.controller.currentComponentSet.slidedisplayer.zoomin()},zoomout:function(){this.controller.currentComponentSet.slidedisplayer.zoomout()},playersearch:function(){},playershare:function(a){this.controller.displayShareScreen({gaCategory:a,customizations:{title:"Share SlideShare"}});"video"===this.controller.config.player_type&&this.controller.multimediaResource&&
this.controller.multimediaResource.pause()},metadataloaded:function(a){var b=this.controller,c=a.type;b._metaDataHandlers()[c].success.call(b,a.json)},metadataloadfailed:function(a){var b=this.controller,a=a.type;b._metaDataHandlers()[a].failure.call(b);this.trackRawEvent("jsplayer_debug",a+"_metadataloadfailed",void 0,!0)},slidechanged:function(a){this.trigger("hidelastscreen");var b=a.index,c=this.controller,d=c.config.has_video&&c.config.video_hash[c.config.start_slide];if(c.currentPosition!==
b||a.force)this.controller.updateCurrentPosition(b),this.controller.hideShareScreen(),0<c.config.related_position&&$.slideshareEventManager.trackEvent("related"+c.config.related_position+"_slide_changed"),b===c.config.start_slide&&c.config.show_image_player&&!d?c._load(b,!0):c._load(b),a.alreadyInPosition||c.currentComponentSet.slidedisplayer._scrollTo(b),2===b?$.slideshareEventManager.trackEvent("slidechange_2"):b===c.slideCount&&$.slideshareEventManager.trackEvent("slidechange_last"),!this.controller.currentComponentSet.leadForm.checkLeadFilledForAuthor()&&
b===this.controller.currentComponentSet.leadForm.getSlideTriggerNumber()&&(this.onLastSlide=!1,this.trigger("showleadform_navigation")),this.trackSlideTransitionTime(),$(window).trigger("resize")},slidescrolled:function(a){(this.controller.currentPosition!==a.index||a.force)&&this.trigger("slidechanged",a)},handlemultimedia:function(){var a=this.controller;a.multimediaResource&&(a.wasPlaying=a.multimediaResource.isPlaying(),a.multimediaResource.pause())},showleadform_cta:function(){this.controller.currentComponentSet.leadForm.openedViaCTA(this.onLastSlide);
this.trigger("showleadform")},showleadform_navigation:function(){this.controller.currentComponentSet.leadForm.checkLeadFilledForAuthor()||(this.controller.currentComponentSet.leadForm.openedViaNavigation(this.onLastSlide,this.controller.currentComponentSet.leadForm.getSlideTriggerNumber()),this.trigger("showleadform"))},showleadform_download:function(){this.controller.currentComponentSet.leadForm.openedViaDownload(this.onLastSlide);this.trigger("showleadform")},showleadform:function(){this.trigger("handlemultimedia");
this.controller.currentComponentSet.leadForm.show();this.controller.currentComponentSet.leadForm.isVisible()&&this.controller.deactivateToolbar()},leadcreated:function(){this.controller.activateToolbar()},screenoverlayclosed:function(){this.controller.multimediaResource&&this.controller.wasPlaying&&this.controller.multimediaResource.play()},showvideospinner:function(){var a=this.controller;a.currentComponentSet.slidedisplayer.videoSpinner.css("z-index",a.VIDEO_FULLSCREEN_ZINDEX).show()},hidevideospinner:function(){this.controller.currentComponentSet.slidedisplayer.videoSpinner.css("z-index",
"auto").hide()},toolbarshown:function(){$(".toolbar").css("z-index",$(".slideDisplayer").css("z-index"))},leadcancelled:function(){this.controller.activateToolbar()},currentversionloaded:function(a){this.controller.slides[a.index].updateRenderedResourceVersion(a.resourceKey)},resourceloaded:function(a){var b=this.controller.slides[a.index];b.updateResource(a.resourceKey,{status:"cached"});if("failed"!==b.status){var c=b.resources,d;for(d in c)if(!0===c[d].cacheable&&"cached"!==c[d].status)return;
b.status="cached";this.trigger("slideloaded",{index:a.index})}},resourceloadfailed:function(a){var b=this.controller.slides[a.index],c=a.resourceKey;b.updateResource(c,{status:"failed"});!0===b.resources[c].isCritical&&(b.status="failed",this.trigger("slideloadfailed",{index:a.index}));this.trackRawEvent("jsplayer_debug",c+"_resourceloadfailed",void 0,!0)},fontresourceloaded:function(a){var b=this.controller;b.config.use_ssl&&-1!==a.style.indexOf(".eot")&&(a.style=a.style.replace(/http:\/\//g,"https://"));
$("<style>"+a.style+"</style>").appendTo(b.currentComponentSet.container)},slideloaded:function(a){var b=this.controller,a=a.index,c=b.slides[a];c.currentViewMode.rendered&&("undefined"!==typeof new_mobile_player&&b.resetSlideShowHeight(a),c.paint());$("#playerFacade").hide();b.preloadMoreIfIdle(a)},slideloadfailed:function(a){controller=this.controller;var b=controller.slides[a.index];$("#playerFacade").hide();b.currentViewMode.rendered&&b.displayError(controller.generateErrorDom("slide_error_template",
{width:b.currentViewMode.width,height:b.currentViewMode.height}));controller.preloadMoreIfIdle(a.index);this.trackRawEvent("jsplayer_debug","slideloadfailed",this.controller.config.id+"_slide_"+a.index,!0)},videoloadfailed:function(){this.trackRawEvent("jsplayer_debug","videoloadfailed",void 0,!0)},slideloading:function(a){var b=this.controller,c=b.slides[a.index];-1===b.loadingSlides.indexOf(a.index)&&b.loadingSlides.push(a.index);c.currentViewMode.rendered&&c.displayLoading();b.currentPosition===
a.index&&this.trackRawEvent("jsplayer_debug","current_slide_loading",void 0,!0)},showvolumecontrol:function(){var a=this.controller.currentComponentSet.toolbar;a&&a.volumeControl&&a.volumeControl.show()},hidevolumecontrol:function(){var a=this.controller.currentComponentSet.toolbar;a&&a.volumeControl&&a.volumeControl.hide()},changevolume:function(a){var b=this.controller.multimediaResource;b&&b.changeVolume(a.volume)},volumechanged:function(a){var b=this.controller.currentComponentSet.toolbar;b&&
b.volumeControl&&b.volumeControl.setVolume(a.volume)},repaint:function(a){this.controller.repaint(a.mobile)},flag:function(){var a=this.controller.currentComponentSet.flag;a&&a.toggleFlagMenu()}},registerController:function(a){this.controller=a},registerPlayer:function(a){this.player=$(a)},registerEnvironment:function(a){this.hostedIn=a||"slideshare"},trigger:function(a,b){void 0!==this.functions[a]&&this.functions[a].call(this,b);this.SHOUTEVENTS[a]&&this.player.trigger({type:a,ssData:b})},trackEvent:function(a,
b){void 0!==window._gaq&&window._gaq.push(["_trackEvent","jsplayer",this.hostedIn,a,void 0,!!b])},trackRawEvent:function(a,b,c,d){void 0!==window._gaq&&window._gaq.push(["_trackEvent",a,b,c,void 0,!!d])},trackValueEvent:function(a,b,c,d){void 0!==window._gaq&&window._gaq.push(["_trackEvent",a,b,c,d])},trackOutboundClick:function(a){this.beaconState({event:"outbound_click",href:a,slide_no:this.controller.currentPosition,ts:$.now()})},trackUniqueViewer:function(){this.beaconState({event:"page_hit",
ts:$.now()})},trackSlideTransitionTime:function(){var a=$.now(),b=a-this.stats.last_activity;this.stats.last_activity=a;var c=this.stats.last_slide,d=this.controller.slideCount;this.trigger("insight",{index:c,time:b});this.beaconState({event:"slide_time_spent",time_spent:b,slide_no:c,total_slides:d,ts:a});this.stats.last_slide=this.controller.currentPosition},beaconState:function(a){var b=this.controller.config;if(1===b.track_slide_enable){var c=("https:"===document.location.protocol?"https://":"http://")+
b.beacon_url,a=$.extend(a,{slideshow_id:b.id,author_id:b.author_id,source:b.hosted_in,_uv_id:this.stats.viewer_id,session_id:this.stats.session_id});b.referer&&(a.ref=b.referer);var d=function(a){(new Image(1,1)).src=c+(0>c.indexOf("?")?"?":"&")+$.param(a)};"complete"===document.readyState?d(a):window.addEventListener?window.addEventListener("load",function(){d(a)},!1):window.attachEvent&&window.attachEvent("onload",function(){d(a)});var e=window.location.host.replace("www","");!b.do_not_track&&window.cookie("_uv_id",
this.stats.viewer_id,{expires:730,path:"/",domain:e})}},getController:function(){return this.controller},getCurrentPosition:function(){return this.controller.currentPosition}}});function SSLastScreen(a){this.config=a;this._init()}SSLastScreen.prototype._init=function(){this.isShareScreenVisible=this.isVisible=!1;this.gaCategory="lastscreen_v1_";this.$container=$("#lastScreen");this.$nextButton=$("#btnNext .j-next-btn");this.$container.find("img.j-thumbnail").lazyload({effect:"fadeIn",event:"loadThumb"})};
SSLastScreen.prototype.exitFullScreenIfIdle=function(){var a=setTimeout(function(){$(".lastScreen").is(":visible")&&($.browser.mozilla||$(".btnLeaveFullScreen").trigger("click"))},5E3);$(".lastScreen").on("click",function(){clearTimeout(a)})};
SSLastScreen.prototype.show=function(a,b){this.$container.find("img.j-thumbnail").trigger("loadThumb");this.isVisible=!0;if(void 0!==this.overlay)this.overlay.show(),this.lastScreen.show();else{var c="lastScreenContainer";isMobile()&&(c+=" mobile");this.lastScreen=this.$container.addClass(c).appendTo(this.config.renderTo);this.lastScreen.show();this.overlay=this.lastScreen.find(".j-last-screen-overlay");this.setDimensions(a);this.populateTemplate();b&&this.exitFullScreenIfIdle()}};
SSLastScreen.prototype.populateTemplate=function(){this.lastScreen.find(".lastScreenEmbedCode, .j-share-embed-link").val(this.config.embed_code);this.lastScreen.find(".lastScreenSSUrl, .j-share-link-url").val(this.config.settings.url);this.lastScreen.find(".j-share-embed-wp").val(this.config.wp_code);$.fn.tooltip&&this.lastScreen.find(".j-tooltip").tooltip();this.config.disableRelated&&(this.lastScreen.find(".lastScreen").addClass("j-disable-related"),this.config.disableShare&&this.lastScreen.find(".lastScreen").addClass("j-disable-share"),
this.isProLastScreen=!0);this._bindEvents();this.initShareWidget();this.populateEmbedSizes()};SSLastScreen.prototype.initShareWidget=function(){this.shareWidgets=new SSShareWidgets({container:this.lastScreen,gaCategory:this.gaCategory})};SSLastScreen.prototype.populateEmbedSizes=function(){var a=this.lastScreen.find(".j-embed-size-picker");$.each(this.config.embed_sizes.presets,function(b,c){var d=c.size.width+4,e=c.size.height+2,d=$("<option/>").val(b).text(d+"x"+e);a.append(d)});a.val(this.config.embed_sizes.config.defaultPreset).change()};
SSLastScreen.prototype._bindEvents=function(){$(".lastscreen-share-cta").bind("click",function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("playershare",this.gaCategory)});var a=this;this.lastScreen.find(".j-email-cta").bind("click",function(){$.slideshareEventManager.trigger("playershare",this.gaCategory);a.lastScreen.find(".j-share-email-to").click();a.lastScreen.find(".j-share-email-to").focus();$.slideshareEventManager.trackEvent(a.gaCategory+"email_cta")});this.lastScreen.find(".j-last-screen-replay").bind("click",
function(b){b.preventDefault();b.stopPropagation();a.hide();$.slideshareEventManager.trigger("gotofirstslide");$.slideshareEventManager.trackEvent(a.gaCategory+"replay")});this.lastScreen.find(".j-last-screen-overlay, .j-lastscreen-close").bind("click",function(){a.hide()});this.lastScreen.find(".j-lastscreen-related a").bind("click",function(){$.slideshareEventManager.trackEvent(a.gaCategory+"relatedclick")})};
SSLastScreen.prototype.showShareScreen=function(a){this.shareOpenedFromLastScreen=this.isVisible;if(this.isShareScreenVisible)this.hide();else{this.isShareScreenVisible=!0;this.show(a);this.lastScreen.find(".j-lastscreen").hide();if($("#svPlayerId").hasClass("infographic_player")){$("body").addClass("overflow_hidden");$.slideshareEventManager.getController();var b=$(".toolbar_wrapper"),c=$(".main_navbar"),c=$(window).scrollTop()+c.height();$(".j-modal-popup").height(b.offset().top-b.height()-c)}a.customizations.title&&
this.lastScreen.find("a#button-share-tab").text(a.customizations.title);this.lastScreen.find("#last-screen-modal-share").show()}};SSLastScreen.prototype.restoreLastScreenState=function(){this.shareOpenedFromLastScreen?this.lastScreen.find(".j-lastscreen").show():(this.lastScreen.find(".j-lastscreen").show(),this.hide())};SSLastScreen.prototype.hide=function(){this.isShareScreenVisible=this.isVisible=!1;this.overlay.hide();this.lastScreen.hide()};
SSLastScreen.prototype.destroy=function(){this.overlay&&(this.overlay.remove(),delete this.overlay);this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)};SSLastScreen.prototype.setDimensions=function(a){void 0!==this.lastScreen&&(this.config.lastScreenClass&&this.lastScreen.find(".lastScreen").addClass(this.config.lastScreenClass),this.lastScreen.css({height:a.height,width:a.width}))};function SSLeadCTA(a){this.config=a;this.image_width=103;this._init()}
SSLeadCTA.prototype._init=function(){this.lead_cta_div=$("<div/>").html(this.config.html).insertAfter(this.config.renderTo.find(".nav"));this.cta_link=$("#lead_cta",this.lead_cta_div);this.setDimensions();this.deactivate();this.show()};SSLeadCTA.prototype.setDimensions=function(){this.lead_cta_div.addClass("lead_cta_div").css({position:"absolute",bottom:"7px",right:$(".navActions").width()+20,border:"2px solid white",borderRadius:"5px"})};
SSLeadCTA.prototype._bindEvents=function(){this.cta_link.unbind("click").bind("click",function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("showleadform_cta")})};SSLeadCTA.prototype._unbindEvents=function(){this.cta_link.unbind("click").bind("click",function(a){a.preventDefault();a.stopPropagation()})};SSLeadCTA.prototype.deactivate=function(){this._unbindEvents()};SSLeadCTA.prototype.activate=function(){this._bindEvents()};
SSLeadCTA.prototype.hide=function(){$(".lead_cta_div").hide();$.slideshareEventManager.trigger("screenoverlayclosed")};SSLeadCTA.prototype.show=function(){this.lead_cta_div.show()};SSLeadCTA.prototype.destroy=function(){this._unbindEvents();this.lead_cta_div.remove()};var OPENED_FROM_CTA_PREFIX="get-in-touch-",OPENED_FROM_NAVIGATION_SUFFIX="-navigation",OPENED_FROM_DOWNLOAD_SUFFIX="-download",TRACKING_ID_URL_PARAM="tracking_id";
function SSLeadForm(a){this.playerController=a;this._init();this._load()}SSLeadForm.prototype._getSlideshowLeadFormUrl=function(){var a=slideshare_object.slideshow.lead_form_url;this._isEmbed()&&(a+="?embed=true");return a};
SSLeadForm.prototype._init=function(){this.gaCategory="bigfoot_leadsform";this.gaActionSuffix=this.gaActionPrefix="";this.leadShownAndDisabled=this.showNewLeadForm=this.openedViaDownloadFlag=!1;this.tracking={pageKey:"sld_slideshow/view"};this.slideshowId=slideshare_object.slideshow.id;if(this._isEmbed()||this._isFromEmbed())this.tracking={pageKey:"sld_slideshow/embed_code",trigger:"GET_IN_TOUCH"}};
SSLeadForm.prototype._load=function(){if(!this.checkLeadFilledForAuthor()){var a=this;$.ajax({method:"GET",url:a._getSlideshowLeadFormUrl(),dataType:"json"}).done(function(b){b.success&&(a.leadFormConfig=b.lead_form_config,a.showNewLeadForm=a.leadFormConfig.has_new_form,a._afterLoad())})}};
SSLeadForm.prototype._afterLoad=function(){var a=this;this._isFromEmbed()||this.recordTrackingEvent("SlideShareWithLeadFormViewEvent");this._isEmbed()&&this._isNewLeadForm()?this._loadEmbedV2():(this.leadFormConfig.lead_form_cta_html&&(this.leadCta=new SSLeadCTA({renderTo:this.playerController.currentComponentSet.container,html:this.leadFormConfig.lead_form_cta_html,showNewLeadForm:this._isNewLeadForm(),ssid:this.slideshowId}),this.leadCta.activate(),this.playerController.currentComponentSet.leadcta=
this.leadCta,this.playerController.currentComponentSet.navigators.push(this.leadCta)),this.canShowAtDownload()&&(slideshare_object.download_url=this.leadFormConfig.download_url,slideshare_object.lead_form_on_download=!0,"undefined"!==typeof slideviewInteraction&&slideviewInteraction.slideviewInteractionObjects.download.unbindEvents(),$(".j-download").on("click",function(b){b.preventDefault();b.stopPropagation();a.checkLeadFilledForAuthor()?slideshare_object.download_interaction.download():$.slideshareEventManager.trigger("showleadform_download")})),
this._isNewLeadForm()?(this.gaCategory="new_leadsform",this.$leadFormPlaceHolder=$("#j-lead-form-placeholder"),this.$leadFormPlaceHolder.html(this.leadFormConfig.lead_form_html),this.$leadFormPlaceHolder.show(),this.$formWrapper=$("#j-lead-container"),this.$form=this.$formWrapper.find("#lead-form"),this.$submitLeadButton=this.$form.find("button[type=submit]"),this.$submitLeadButtonLabel=this.$submitLeadButton.find(".button-label"),this.$submitLeadButtonLoading=this.$submitLeadButton.find(".loading"),
this.$leadContainer=$(".lead-form-container"),this._initThirdParties(),this._initCountries(),this._bindEventsV2(),this._isFromEmbed()&&this.show()):(this.$leadFormPlaceHolder=this.playerController.currentComponentSet.slidedisplayer.container,this._bindEventsV1()),this.trackLeadAction("load"),this.showCta())};
SSLeadForm.prototype._loadEmbedV2=function(){var a=$("#embed-lead-cta");this.gaCategory="embed_lead_form";this.leadFormConfig&&this.leadFormConfig.leadgen_tracking_id&&a.attr("href",a.attr("href")+"&"+TRACKING_ID_URL_PARAM+"="+this.leadFormConfig.leadgen_tracking_id);a.show();this.trackLeadAction("load");a.on("click",function(){this.trackLeadAction("click")}.bind(this))};SSLeadForm.prototype.exists=function(){return void 0!==this.leadFormConfig};
SSLeadForm.prototype.canShowAtEndOfSlideshow=function(){return this.leadFormConfig&&this.leadFormConfig.for_end_of_slideshow};SSLeadForm.prototype.canShowAtDownload=function(){return this.leadFormConfig&&this.leadFormConfig.for_download};SSLeadForm.prototype.getSlideTriggerNumber=function(){return this.leadFormConfig&&this.leadFormConfig.form_after_slide_number};
SSLeadForm.prototype._setLeadFilledForAuthor=function(){this.leadShownAndDisabled=!0;this.hideCta();if(window.localStorage){var a=localStorage.getItem("leadFormFilled");a?0>a.split(",").indexOf(""+this._getAuthorId())&&(a+=","+this._getAuthorId(),localStorage.setItem("leadFormFilled",a)):localStorage.setItem("leadFormFilled",this._getAuthorId())}};
SSLeadForm.prototype.checkLeadFilledForAuthor=function(){if(this.leadShownAndDisabled)return!0;if(window.slideshare_object&&slideshare_object.slideshow&&slideshare_object.user&&slideshare_object.slideshow.user_login===slideshare_object.user.login||"undefined"===typeof localStorage)return!1;var a=window.localStorage&&localStorage.getItem("leadFormFilled");return a&&0<=$.inArray(""+this._getAuthorId(),a.split(","))};
SSLeadForm.prototype.trackLeadAction=function(a){var b=this.gaActionPrefix+a+this.gaActionSuffix;this.leadOnSlideNumber&&(this.leadFormConfig.randomized_lead_form&&slideshare_object.ga("randomized_lead_form",this.slideshowId+"_"+this.leadOnSlideNumber,a),slideshare_object.ga(this.gaCategory,b+"_"+this.leadOnSlideNumber,this.slideshowId.toString()));slideshare_object.ga(this.gaCategory,b,this.slideshowId.toString())};
SSLeadForm.prototype.recordTrackingEvent=function(a){slideshare_object.recordLeadTrackingEvent&&slideshare_object.recordLeadTrackingEvent(a,this._getLeadgenTrackingId(),this.slideshowId.toString(),this.leadFormConfig.lead_campaign_id.toString(),this.tracking.pageKey,this.tracking.trigger,this.leadOnSlideNumber)};SSLeadForm.prototype._getLeadgenTrackingId=function(){return getUrlVar(TRACKING_ID_URL_PARAM)||this.leadFormConfig&&this.leadFormConfig.leadgen_tracking_id};
SSLeadForm.prototype.openedViaCTA=function(a){this.gaActionPrefix=OPENED_FROM_CTA_PREFIX;this.gaActionSuffix="";this.gaActionSuffix+=a?"_end":"";this.tracking.trigger="GET_IN_TOUCH";this.leadOnSlideNumber=null};
SSLeadForm.prototype.openedViaNavigation=function(a,b){var c="";this.leadOnSlideNumber=null;a?(c="_end",this.tracking.trigger="ON_END"):b&&(this.leadOnSlideNumber=b,this.tracking.trigger="ON_SLIDE");this.gaActionPrefix=OPENED_FROM_CTA_PREFIX;this.gaActionSuffix=OPENED_FROM_NAVIGATION_SUFFIX+c};
SSLeadForm.prototype.openedViaDownload=function(a){this.gaActionPrefix="";this.gaActionSuffix=OPENED_FROM_DOWNLOAD_SUFFIX;this.openedViaDownloadFlag=!0;this.gaActionSuffix+=a?"_end":"";this.tracking.trigger="ON_DOWNLOAD";this.leadOnSlideNumber=null};SSLeadForm.prototype._bindEvents=function(){};
SSLeadForm.prototype._bindEventsV1=function(){var a=this;this.$leadContainer=$(".player");this.$leadContainer.on("click",".lead-overlay form .submit",function(b){b.preventDefault();b.stopPropagation();var c=$(".lead-overlay #leadsform-placeholder-new"),d=$(".lead-overlay .progress"),e=$(".lead-overlay .progress_done"),f=$(".lead-overlay .progress_error");c.form=$("form",c);try{c.form[0].validate_formfields()&&(c.css({height:"120px"}),d.show(),c.form.hide(),$.ajax({url:c.form[0].action,data:"mechanism=Sidebar&"+
c.form.serialize(),type:"POST",cache:!1,success:function(){a.trackLeadAction("sent");$(".j-lead-cta-submit").trigger("submit");e.show();d.hide();$(".lead-overlay").fadeOut(3E3,"linear");$.slideshareEventManager&&$.slideshareEventManager.trigger("leadcreated");a._setLeadFilledForAuthor();c.html('<div class="progress_done">'+e.html()+"</div>");a.openedViaDownloadFlag&&slideshare_object.download_interaction.download()},error:function(a){"abort"!=a.statusText&&(d.hide(),f.show(),$(".lead-overlay").fadeOut(2E3,
"linear"),setTimeout(function(){f.hide();c.form.show()},2E3))}}))}catch(g){}});if(this.leadFormConfig.show_skip_button)$(this.$leadFormPlaceHolder).parent().on("click",".j-lead-cancel",function(b){b.preventDefault();b.stopPropagation();a.hideCta();a.hide();a.leadShownAndDisabled=!0;$.slideshareEventManager&&$.slideshareEventManager.trigger("leadcancelled");a.openedViaDownloadFlag&&slideshare_object.download_interaction.download()});else $(".j-lead-cancel").remove();$("#slideshow_lead_first_name_new_hidden").on("change",
function(){$("#slideshow_lead_first_name_new").val($(this).val());a.trackLeadAction("autofilled")});this.$leadContainer.on("click",".j-track-lead",function(){a.trackLeadAction($(this).data("ga"))})};
SSLeadForm.prototype._bindEventsV2=function(){var a=this;$("#j-lead-wrapper").on("valid.fndtn.abide","#lead-form",function(){a._toggleSubmissionState();$.ajax({url:this.action,type:"POST",data:$(this).serialize(),success:function(b){b.success?(a.trackLeadAction("sent"),a.recordTrackingEvent("SlideShareLeadCreatedEvent"),$.slideshareEventManager&&$.slideshareEventManager.trigger("leadcreated"),a._setLeadFilledForAuthor(),$("#j-lead-form-submission-success").foundation("reveal","open")):($("#j-lead-form-submission-error").foundation("reveal",
"open"),a.trackLeadAction("error"));a.openedViaDownloadFlag&&slideshare_object.download_interaction.download()},complete:function(){a._toggleSubmissionState()},error:function(){$("#j-lead-form-submission-error").foundation("reveal","open")},crossDomain:!0,xhrFields:{withCredentials:!0}})});this.$leadContainer.on("click",".j-lead-cancel",function(b){b.preventDefault();b.stopPropagation();a.trackLeadAction($(this).data("ga"));$.slideshareEventManager&&$.slideshareEventManager.trigger("leadcancelled");
a.hide()});this.$leadContainer.on("click",".j-track-lead",function(){a.trackLeadAction($(this).data("ga"))})};SSLeadForm.prototype._unbindEvents=function(){$(".j-lead-cancel").off("click");$(".player").off("click",".lead-overlay form .submit")};SSLeadForm.prototype.deactivate=function(){this._unbindEvents();$(".lead-overlay").remove()};SSLeadForm.prototype.activate=function(){this._unbindEvents();this._bindEvents()};
SSLeadForm.prototype.hide=function(){this._isNewLeadForm()?this.$leadContainer.foundation("reveal","close"):$(".lead-overlay").hide()};
SSLeadForm.prototype.show=function(){this.trackLeadAction("open");this.recordTrackingEvent("SlideShareLeadFormViewEvent");this._isNewLeadForm()?this.$leadContainer.foundation("reveal","open"):(null===document.getElementById("leadsform-placeholder-new")&&($(this.leadFormConfig.lead_form_html).insertBefore(this.$leadFormPlaceHolder),this.leadFormConfig.show_skip_button||$(".j-lead-cancel").remove()),$(".lead-overlay").fadeToggle(1E3,"linear"))};SSLeadForm.prototype.isVisible=function(){return $(".lead-overlay").is(":visible")};
SSLeadForm.prototype._toggleSubmissionState=function(){this.$submitLeadButtonLabel.toggle();this.$submitLeadButtonLoading.toggle();this.$submitLeadButton.prop("disabled",function(a,b){return!b})};SSLeadForm.prototype.hideCta=function(){this.leadCta&&this.leadCta.hide()};SSLeadForm.prototype.showCta=function(){this.leadCta&&this.leadCta.show()};SSLeadForm.prototype.destroy=function(){$(".lead-overlay").remove()};
SSLeadForm.prototype._initCountries=function(){this.countryFieldSelector="#slideshow-lead-answer-country";this.$countryField=$(this.countryFieldSelector);this.$countrySubdivisionField=$("#slideshow-lead-answer-country-subdivision");this.countrySubdivisions={};0<this.$countrySubdivisionField.length&&0<this.$countryField.length&&(this.$countryField.get(0).onchange=function(){$(this).trigger("countryChanged")});this.$leadContainer.on("countryChanged",this.countryFieldSelector,function(){0<this.$countrySubdivisionField.length&&
this._loadCountrySubdivisions(this.$countryField.val())}.bind(this))};
SSLeadForm.prototype._loadCountrySubdivisions=function(a){this.$countrySubdivisionField.find("option:gt(0)").remove();this.$countrySubdivisionField.parent().removeClass("error");if(a){var b=this;if(this.countrySubdivisions[a]){var c=this.countrySubdivisions[a];this.$countrySubdivisionField.toggle(c.length);for(var d=0;d<c.length;d++)this.$countrySubdivisionField.append(new Option(c[d].name,c[d].value))}else $.ajax({url:"/country/subdivisions?country="+a,dataType:"json",async:!1,success:function(c){b.countrySubdivisions[a]=
c.subdivisions;b._loadCountrySubdivisions(a)}})}else this.$countrySubdivisionField.hide();this.$countrySubdivisionField.is(":visible")?this.$countrySubdivisionField.attr("required",""):this.$countrySubdivisionField.removeAttr("required")};SSLeadForm.prototype._getAuthorId=function(){return this.playerController.config.author_id};SSLeadForm.prototype._isNewLeadForm=function(){return this.showNewLeadForm};
SSLeadForm.prototype._isEmbed=function(){return this.playerController&&-1!==$.inArray(this.playerController.config.hosted_in,["slideshare","embed"])};SSLeadForm.prototype._isFromEmbed=function(){return getUrlVar("from_embed_lead_cta")};
SSLeadForm.prototype._initThirdParties=function(){$(document).foundation({abide:{validators:{phoneValidator:function(a,b,c){return 0===a.value.length?(c.find(".error").html($("#j-lead-form-field-required-error-msg").html()),!1):!/^\+(?:[0-9] ?){6,14}[0-9]$/.test(a.value)?(c.find(".error").html("Please use international phone number format:<br />Ex: +00 0000000000"),!1):!0}}}});$(document).foundation("abide","events");this._autofillWorkaround()};SSLeadForm.prototype._autofillWorkaround=function(){document.body.appendChild(document.getElementById("j-lead-container"))};
function SSReplayScreen(a){this.config=a;this.html=a.settings.html;this._init()}SSReplayScreen.prototype._init=function(){};SSReplayScreen.prototype.show=function(a){void 0===this.overlay&&(this.overlay=$("<div/>").css({width:"100%",height:"100%","background-color":"black",opacity:0.75,position:"absolute",top:0,left:0}).appendTo(this.config.renderTo),this.lastScreen=$("<div/>").css({position:"absolute"}).html(this.html).appendTo(this.config.renderTo),this.setDimensions(a),this.bindEvents())};
SSReplayScreen.prototype.destroy=function(){this.overlay&&(this.overlay.remove(),delete this.overlay);this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)};SSReplayScreen.prototype.bindEvents=function(){var a=this;this.lastScreen.find(".j-replay-button").bind("click",function(b){b.preventDefault();a.destroy();$.slideshareEventManager.trigger("gotofirstslide");$.slideshareEventManager.trackEvent("lastscreen_replay")})};
SSReplayScreen.prototype.setDimensions=function(a){if(void 0!==this.lastScreen){var b;b=(a.height-25)/2;a=(a.width-93)/2;b=0>b?0:parseInt(b,10);a=0>a?0:parseInt(a,10);this.lastScreen.css({top:b,left:a})}};function SSResource(a){"undefined"!==typeof a&&(this.TIMEOUT_LIMIT=1E5,this.RETRY_WAIT_TIME=3E3,this.config=a,this.resourceKey=a.resourceKey,this._init())}SSResource.prototype._init=function(){this._initResourceConfig();this.status="initialized"};
SSResource.prototype.reset=function(){this.status="initialized";this.retries=0;if(this.suffixes){var a,b;for(a in this.suffixes)b=this.suffixes[a],b.status="initialized",delete b.startTime,b.retries=2}};SSResource.prototype.load=function(){this.status="loading";this.loadBlocked||(this.startTime=(new Date).getTime(),this._tryLoad())};
SSResource.prototype.update=function(a){var b,c;for(b in a)c=a[b],"image"===this.resourceKey&&"sizes"===b?this.delayedInitialize&&this.delayedInitialize(c):"image"===this.resourceKey&&"linkData"===b?this.addLinks(c):this[b]=c};
SSResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},a.RETRY_WAIT_TIME)):$.slideshareEventManager.trigger("resourceloadfailed",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};function SSShareWidgets(a){this.gaCategory=a.gaCategory;this.container=a.container}
SSShareWidgets.prototype.loadTwWidget=function(){var a=window,b;var c,d=document.getElementsByTagName("script")[0];document.getElementById("twitter-wjs")?b=void 0:(b=document.createElement("script"),b.id="twitter-wjs",b.src="//platform.twitter.com/widgets.js",d.parentNode.insertBefore(b,d),b=window.twttr||(c={_e:[],ready:function(a){c._e.push(a)}}));a.twttr=b;var e=this;twttr.ready(function(a){a.events.bind("tweet",function(a){a&&$.slideshareEventManager.trackEvent(e.gaCategory+"twitter_share")});
a.events.bind("click",function(){$.slideshareEventManager.trackEvent(e.gaCategory+"twitter_click")})})};
SSShareWidgets.prototype.loadLIwidget=function(){var a=document.location.protocol+"//platform.linkedin.com/in.js?async=true";"undefined"===typeof IN?$.getScript(a,function(){"undefined"!==typeof IN&&IN.init({api_key:"y4wa9oe4c6nu",credentials_cookie:!0,authorize:!0,entropy:Math.floor(1E4*Math.random())})}):IN.parse(document);window.socialScreenLinkedInSuccess=function(){$.slideshareEventManager.trackEvent(that.gaCategory+"li_share")}};
SSShareWidgets.prototype.loadGplusWidget=function(){window.___gcfg={lang:"en-US"};var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://apis.google.com/js/plusone.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);window.socialScreenPlusOneSuccess=function(){$.slideshareEventManager.trackEvent(that.gaCategory+"gplus_share")}};
SSShareWidgets.prototype.loadPinItWidget=function(){var a=document.getElementsByTagName("SCRIPT")[0],b=document.createElement("SCRIPT");b.type="text/javascript";b.async=!0;b.src="//assets.pinterest.com/js/pinit.js";a.parentNode.insertBefore(b,a);this.container.find(".pinit-btn").click(function(){$.slideshareEventManager.trackEvent(that.gaCategory+"pinit_share")})};
SSShareWidgets.prototype.sendMail=function(a){var b=!1,c=a.sendButton;b||(c.trigger("mailSending"),b=!0,$.post(a.postTo,{data:a.params,dataType:"json"}).success(function(a){b=!1;a.isSuccess?c.trigger("mailSendSuccess"):c.trigger("mailSendFailure",a)}).error(function(){b=!1;c.trigger("mailSendError")}))};function SSShareOptions(a){this.config=a;this.renderTo=a.renderTo;this.html=this.config.html;this._init()}SSShareOptions.prototype._init=function(){};
SSShareOptions.prototype.show=function(){var a=this;this.shareOptions=$("<div/>").html(this.html).appendTo(this.renderTo);this.setShareObjects();$.each({".thirdPartyShare a.Twitter":this.config.twitterShare,".thirdPartyShare a.Linkedin":this.config.linkedinShare},function(b,c){a.shareOptions.find(b).bind("click",function(a){a.preventDefault();window.open(c,"ss_share","width=660,height=490,toolbar=no,resizable=fixed,status=no,scrollbars=no,menubar=no,screenX=0,screenY=0").focus()})});this.fbLike.replaceWith(this.config.facebookLike)};
SSShareOptions.prototype.setShareObjects=function(){this.twitter=this.shareOptions.find(".Twitter");this.linkedIn=this.shareOptions.find(".Linkedin");this.fbLike=this.shareOptions.find(".fb-like")};function SSShareScreen(a){this.config=a;this.html=a.settings.html;this._init()}SSShareScreen.prototype._init=function(){};
SSShareScreen.prototype.show=function(a){void 0===this.overlay&&(this.overlay=$("<div/>").addClass("jsplShareScreenOverlay").appendTo(this.config.renderTo),this.shareScreen=$("<div/>").addClass("jsplShareScreenContainer").html(this.html).appendTo(this.config.renderTo),this.setDimensions(a),this.populateTemplate(),this.bindEvents())};
SSShareScreen.prototype.populateTemplate=function(){this.shareScreen.find(".shareScreenEmbedCode").val(this.config.embed_code);this.shareScreen.find(".shareScreenSSUrl").val(this.config.settings.url);this.shareScreen.find(".shareScreenFromName").val(this.config.settings.user_name);this.populateShareOptions()};
SSShareScreen.prototype.populateShareOptions=function(){this.shareOptions=new SSShareOptions({renderTo:this.shareScreen.find(".shareScreen"),html:this.config.shareOptions.html,linkedinShare:this.config.shareOptions.linkedin_share,twitterShare:this.config.shareOptions.twitter_share,facebookLike:this.config.shareOptions.facebook_like_button});this.shareOptions.show()};SSShareScreen.prototype.destroy=function(){this.overlay.remove();delete this.overlay;this.shareScreen.remove();delete this.shareScreen};
SSShareScreen.prototype.bindEvents=function(){var a=this;this.shareScreen.find(".close").bind("click",function(b){b.preventDefault();a.destroy();$.slideshareEventManager.trigger("screenoverlayclosed")});this.shareScreen.find("input[type=text]").bind("click",function(){this.select()});var b=this.shareScreen.find("input[type=submit]");this.shareScreen.find("form").bind("submit",function(a){a.preventDefault()});b.bind("click",function(c){c.preventDefault();var c=a.shareScreen.find(".shareScreenFromName").val(),
d=a.shareScreen.find(".shareScreenMailID").val(),e=a.shareScreen.find(".shareDefaultMessage").val();0===c.length||0===d.length||("undefined"!==typeof a.emailProgress&&a.emailProgress.remove(),$.slideshareEventManager.trackEvent("lastscreen_emailsending"),a.emailProgress=$("<span/>").text("sending..."),b.parent().prepend(a.emailProgress),$.ajax({url:"/share/contacts/"+a.config.settings.slideshow_id,type:"POST",data:{"message[body]":e,"message[from]":c,"message[to]":d},dataType:"json",success:function(b){!0===
b.success?($.slideshareEventManager.trackEvent("lastscreen_emailsent"),a.emailProgress.text("Sent")):($.slideshareEventManager.trackEvent("lastscreen_emailfailed"),a.emailProgress.text("Sending failed"))},error:function(){$.slideshareEventManager.trackEvent("lastscreen_emailerror");a.emailProgress.text("Sending failed")}}))});this.shareScreen.find("[name=embed-code], [name=embed-url]").bind("click",function(){$.slideshareEventManager.trackEvent("lastscreen_embedclick")})};
SSShareScreen.prototype.setDimensions=function(a){if(void 0!==this.shareScreen){this.config.shareScreenClass&&this.shareScreen.find(".shareScreen").addClass(this.config.shareScreenClass);var b=$(this.shareScreen).width(),c=$(this.shareScreen).height(),c=(a.height-c)/2,a=(a.width-b)/2,c=0>c?0:parseInt(c,10),a=0>a?0:parseInt(a,10);this.shareScreen.css({top:c,left:a})}};
function SSSlide(a){"undefined"!==typeof a&&(this.index=a.index,this.realIndex=a.realIndex,this.setContentDimensions(a.contentWidth,a.contentHeight),delete a.contentWidth,delete a.contentHeight,this.config=a,this._init())}SSSlide.prototype.setContentDimensions=function(a,b){this.contentWidth=a;this.contentHeight=b};
SSSlide.prototype._init=function(){this.status="initialized";this.controller=$.slideshareEventManager.getController();this.playerContainer="#"+this.controller.config.container;this.$stage=$(this.playerContainer+" .stage");this.$slide=this.$stage.find(".slide").eq(this.index-1);this.$imageEle=this.$slide.children(".slide_image");this.viewModes={};this.resources={};this._createResources();this._bindEvents()};SSSlide.prototype.stop=function(){};
SSSlide.prototype._createResources=function(){"undefined"===typeof this.config.timestamp&&(this.config.timestamp=(new Date).getTime());switch(this.config.slideMode){case "image":this.resources.image=new SSFallbackImageResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,signatures:{},availableSizes:this.config.availableSizes,
contentWidth:this.contentWidth,privateImageSignatures:this.config.privateImageSignatures,conversionVersion:this.config.conversionVersion,isFullscreen:this.isFullscreen(),show_image_player:this.config.show_image_player});break;case "html":this.resources.image=new SSBgImageResource({baseUrl:this.config.bucketLocation,availableSizes:this.config.availableSizes,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,
realIndex:this.realIndex,is_private:this.config.is_private,contentWidth:this.contentWidth,conversionVersion:this.config.conversionVersion,privateImageSignatures:this.config.privateImageSignatures}),this.resources.html=new SSHtmlResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"html",indexGenerator:this.config.indexGenerator,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,conversionVersion:this.config.conversionVersion,signature:this.config.htmlResourceSignature})}delete this.config.availableSizes};
SSSlide.prototype.reset=function(){this.status="initialized";for(var a in this.resources)resource=this.resources[a].reset()};
SSSlide.prototype.load=function(){if("cached"===this.status)this._getNewResourceVersions(this.currentViewMode.wrapperWidth),$.slideshareEventManager.trigger("slideloaded",{index:this.index});else if("loading"===this.status)$.slideshareEventManager.trigger("slideloading",{index:this.index});else if("failed"===this.status)$.slideshareEventManager.trigger("slideloadfailed",{index:this.index});else{this.status="loading";$.slideshareEventManager.trigger("slideloading",{index:this.index});for(var a in this.resources)resource=
this.resources[a],resource.status="loading",resource.load()}};SSSlide.prototype.updateResource=function(a,b){"undefined"!==typeof this.resources[a]&&this.resources[a].update(b)};SSSlide.prototype.displayError=function(a,b){this.empty();a.appendTo(this.currentViewMode.wrapper);var c=this,d=a.find("input");b?d.hide():d.bind("click",function(a){a.preventDefault();a.stopPropagation();c.reset();c.load()})};
SSSlide.prototype.paint=function(){"undefined"===typeof this.currentViewMode.imageElement&&this.render();this.currentViewMode.imageElement.css({width:this.currentViewMode.width});if("html"===this.config.slideMode){var a;a=Modernizr.csstransforms?{"-moz-transform":"scale("+this.currentViewMode.contentScale+")","-webkit-transform":"scale("+this.currentViewMode.contentScale+")","-o-transform":"scale("+this.currentViewMode.contentScale+")",msTransform:"scale("+this.currentViewMode.contentScale+")","-moz-transform-origin":"0 0",
"-webkit-transform-origin":"0 0","-o-transform-origin":"0 0",msTransformOrigin:"0 0"}:{zoom:this.currentViewMode.contentScale};this.currentViewMode.contentElement.css({width:this.currentViewMode.width,height:this.currentViewMode.height});this.currentViewMode.contentElement.children(".ssml_div").css(a);this.areLinksEnabled()||this.currentViewMode.contentElement.find(".ssml_a").remove()}else"image"===this.config.slideMode&&!0!==this.config.show_image_player&&this._updateLinks()};
SSSlide.prototype.isFullscreen=function(){return"fullscreen"===this.currentMode||"nativefullscreen"===this.currentMode};
SSSlide.prototype.render=function(){this.empty();var a,b,c=this;$.slideshareEventManager.getCurrentPosition();switch(this.config.slideMode){case "html":a=$("<img/>").css({height:"auto",position:"absolute",top:0,left:0,margin:0,padding:0});b=this.resources.image.getContent();break;case "image":a=this.$imageEle,b=this.isFullscreen()||640<this.$stage.width()?this.$imageEle.data("full"):320>=this.$stage.width()?this.$imageEle.data("small"):this.$imageEle.data("normal")}if("undefined"!==typeof b){this.imageEle=
a;this.currentViewMode.imageElement=a;var d=new Image;d.onload=function(){"undefined"!=typeof e&&"undefined"!=typeof _gaq&&_gaq.push(["_trackTiming","image","slide_load",new Date-e,c.index.toString()]);var a=c.controller.currentPosition,d=c.$slide.height(),h=c.$stage.scrollTop();c.$slide.css("min-height",0);c.controller.firstLoad="undefined"===typeof c.controller.firstLoad?!0:!1;c.currentViewMode.imageElement.attr({src:b});c.$slide.find(".fa-spinner").remove();"infographic"===c.config.playerType&&
c.addScrollIfNeeded();"document"===c.config.playerType&&(d=c.$slide.height()-d,c.controller.firstLoad&&(!isMobile()&&c.controller.currentComponentSet.slidedisplayer.$slides)&&(c.controller.currentComponentSet.slidedisplayer.$slides.css("min-height",c.$slide.height()),h+=d*(a-2)),c.index<a&&c.$stage.scrollTop(h+d));$(window).trigger("resize");a=function(){c.loadLinks()};c.config.show_image_player&&("complete"===document.readyState?a():window.addEventListener?window.addEventListener("load",a,!1):window.attachEvent&&
window.attachEvent("onload",a));"function"===typeof isIos&&isIos()&&$(this).css("-webkit-backface-visibility","hidden");"slideview"===c.config.hosted_in&&!c.config.show_image_player&&(a=$(this).height(),$(this).css("height","auto"),h=$(this).height(),a!==h&&!window.slideResizeEventFired&&(window.slideResizeEventFired=!0,a=c.config.ssid,h="00",d=/slide-(\d+)-.*/,d.test(this.src)&&(h=this.src.match(d)[1]),$.slideshareEventManager.trackRawEvent("jsplayer_debug","slideresize",a+"_slide_"+h)),$(this).css("height",
"auto"))};d.src=b;var e=new Date;this.config.show_image_player||a.appendTo(this.currentViewMode.wrapper);"html"===this.config.slideMode&&(a="<style>"+this.resources.html.getContent().style+"</style>",$(a).appendTo(this.currentViewMode.wrapper),this.currentViewMode.contentElement=$("<div/>").css({position:"absolute",overflow:"hidden"}).html(this.resources.html.getContent().html),this.currentViewMode.contentElement.appendTo(this.currentViewMode.wrapper))}};
SSSlide.prototype.addScrollIfNeeded=function(){this.$imageEle.height()>this.$slide.height()+15&&this.$slide.css("overflow-y","auto")};SSSlide.prototype.areLinksEnabled=function(){return this.config.is_render_all_links||"undefined"!==typeof slideshare_object&&slideshare_object.user.su?!0:-1!==$.inArray(this.index,[1,2,3])?!1:!0};
SSSlide.prototype.loadLinks=function(){var a=this;!0===a.controller.linksLoaded?this.renderLinksForSlide():$.jsonp({url:a.config.bucketLocation+"/meta.js?"+this.config.timestamp,callback:"slideshare_jsonp_meta_hook_trigger",cache:!0,timeout:1E4,success:function(b){a.controller.links=b.links;a.controller.linksLoaded=!0;a.renderLinksForSlide();a.controller.slideAspectRatio=b.sizes[1].height/b.sizes[1].width;a.controller.updateEmbedSizes()}})};
SSSlide.prototype.renderLinksForSlide=function(){if(this.areLinksEnabled()){var a="#"+this.controller.config.container,b=this.index-this.config.linkOffset;if(!("undefined"===typeof this.controller.links||"undefined"===typeof this.controller.links[b])){var c=this.imageEle,d=c.naturalWidth(),e=c.naturalHeight(),b=this.controller.links[b].links,f=b.length,g,h,j,k="image_map_"+this.index+"_"+(new Date).getTime();void 0!==this.currentViewMode.imageMapId&&$("#"+this.currentViewMode.imageMapId).remove();
this.currentViewMode.imageMapId=k;var l='<map id="'+k+'" name="'+k+'">';for(g=0;g<f;g++)h=b[g],j=[parseInt((h.box[0]||0)*d/100,10),parseInt((h.box[3]||0)*e/100,10),parseInt((h.box[2]||0)*d/100,10),parseInt((h.box[1]||0)*e/100,10)],j=j.join(","),l=l+'<area shape="rect" target="_blank" coords="'+j+'" href="'+h.url+'" rel="nofollow" />';$(l+"</map>").appendTo(a+" .image_maps");c.attr("usemap","#"+k);$(document).ready(function(){c.rwdImageMaps()});$("map area").click(function(a){$.slideshareEventManager.trackOutboundClick(a.target.href)})}}};
SSSlide.prototype._updateLinks=function(){void 0!==this.currentViewMode.imageMapId&&$("#"+this.currentViewMode.imageMapId).remove();this._renderLinks()};
SSSlide.prototype._renderLinks=function(){var a=this.resources.image.links;if(void 0!==a){var b=this.currentViewMode.width,c=this.currentViewMode.height,d=a.length,e,f,g,h="image_map_"+this.currentMode+"_"+this.index+parseInt(2500*Math.random(),10),j='<map id="'+h+'" name="'+h+'">';for(e=0;e<d;e++)f=a[e],g=[parseInt((f.box[0]||0)*b/100,10),parseInt((f.box[3]||0)*c/100,10),parseInt((f.box[2]||0)*b/100,10),parseInt((f.box[1]||0)*c/100,10)],g=g.join(","),j=j+'<area shape="rect" coords="'+g+'" href="'+
f.url+'" rel="nofollow" />';$(j+"</map>").appendTo(this.currentViewMode.wrapper);this.currentViewMode.imageElement.attr("usemap","#"+h);this.currentViewMode.imageMapId=h}};SSSlide.prototype._getNewResourceVersions=function(){this.resources.image._tryLoad(this.currentViewMode.wrapperWidth)};SSSlide.prototype.updateRenderedResourceVersion=function(a){this.currentViewMode.rendered&&"image"===a&&void 0!==this.currentViewMode.imageElement&&this.currentViewMode.imageElement.attr({src:this.resources.image.getContent()})};
SSSlide.prototype._bindEvents=function(){};function SSSlideDisplayer(a){"undefined"!==typeof a&&(this.config=a,this.slideOffsets=[],this.playerBgColor=a.playerBgColor||"jsplBgColorBigfoot",this.state="initialized",this.zoomIndex=0,this._init())}SSSlideDisplayer.prototype._init=function(){this.config.show_image_player?this.container=$(".stage"):(this.container=$("<div/>").addClass("slideDisplayer "+this.playerBgColor).appendTo(this.config.renderTo),this.showInitializer())};
SSSlideDisplayer.prototype.hideInitializer=function(){!this.config.show_image_player&&this.container.empty()};SSSlideDisplayer.prototype.error=function(a){this.hideInitializer();a.appendTo(this.container)};SSSlideDisplayer.prototype.zoomin=function(){var a=this.zoomIndex+1;a!==this.zoomLevels.length&&(this.zoomIndex=a,this.setZoom(a),$(this).trigger("zoomchanged"))};SSSlideDisplayer.prototype.zoomout=function(){0!==this.zoomIndex&&(this.zoomIndex-=1,this.setZoom(this.zoomIndex),$(this).trigger("zoomchanged"))};
SSSlideDisplayer.prototype.activate=function(){};SSSlideDisplayer.prototype.deactivate=function(){};SSSlideDisplayer.prototype.destroy=function(){this.container.remove()};SSSlideDisplayer.prototype._bindEvents=function(){};SSSlideDisplayer.prototype.refresh=function(a){var b=this;$.each(a,function(a,d){b.config[a]&&(b.config[a]=d)})};function SSTouchInteraction(a){this.config=a;this._init()}SSTouchInteraction.prototype._init=function(){this.touch={active:!1};this._bindEvents()};
SSTouchInteraction.prototype.scrollVariables=function(){this.slideHeight=$(".verticalStack").height();this.scrollBottomOffset=2*this.slideHeight};SSTouchInteraction.prototype.loadNextSlides=function(a){var a=a.data.touch,b=$(window).scrollTop();if($(".slideShow").height()-b<a.scrollBottomOffset)for(a=0;2>a;a++)$.slideshareEventManager.trigger("next",{source:"scroll_next"})};
SSTouchInteraction.prototype.loadNextSlide=function(a){a=$(a.target);a.hasClass(".verticalStack")||(a=a.closest(".verticalStack"));var b=parseInt(a.attr("touchCount"),10),c=parseInt(a.attr("slideNumber"),10);isNaN(c)&&(c=parseInt($("div[touchcount]").last().attr("slidenumber"),10));isNaN(b)?(a.attr("touchCount",1),$.slideshareEventManager.trigger("next",{source:"scroll_next",touchedSlideNo:c}),window._gaq.push(["_trackEvent","jsplayer","slideTouched",config.player_type])):3>b&&(a.attr("touchCount",
b+1),$.slideshareEventManager.trigger("next",{source:"scroll_next",touchedSlideNo:c}));1===c&&1<b||90===window.orientation||-90===window.orientation?updateSlideNumber(c):updateSlideNumber(c+1)};SSTouchInteraction.prototype.getTouchEvent=function(){return"ontouchstart"in window?"touchstart":window.navigator.msPointerEnabled?"MSPointerDown":"click"};
SSTouchInteraction.prototype.slideNextOnScroll=function(){var a=this;if(!config.scroll_test)$("#slideshow").on(this.getTouchEvent(),function(b){a.loadNextSlide(b)});$("#more-slide").on("click",function(b){window._gaq.push(["_trackEvent","jsplayer","LoadMoreSlide",config.player_type]);a.loadNextSlide(b)})};
SSTouchInteraction.prototype.activate=function(){var a=$(".hideControls"),b=$(".slideShow"),c=$.slideshareEventManager,d=this.getTouchEvent(),e=this,f=0<window.innerWidth?window.innerWidth:screen.width,g=this.config.container.width();"embed"===this.config.hostedIn&&f<g&&$("body").width(f);a.show();$("#slide_next_mobile").on(d,function(a){a.preventDefault();c.trigger("next",{source:"tap_next"});window._gaq.push(["_trackEvent","jsplayer","mobile_next",config.real_player_type])});$("#slide_previous_mobile").on(d,
function(a){a.preventDefault();c.trigger("previous",{source:"tap_previous"});window._gaq.push(["_trackEvent","jsplayer","mobile_prev",config.real_player_type])});if("undefined"!==typeof new_mobile_player){$("#slide-end").live(d,function(){$(window).scrollTop(0)});this.slideNextOnScroll();$("#play-icon").on(this.getTouchEvent(),function(a){a.stopPropagation();"undefined"!==typeof e.containerHeight?b.height(e.containerHeight):b.height(2*$(".verticalStack").height());$("#play-icon, .presentationSharing, #more-related-content").hide();
$("#view-done, #view-save, #slidecount, #more-slide").show();$(".header").removeClass("fixed-header");config.scroll_test&&(e.scrollVariables(),$(window).bind("scroll",{touch:e},e.loadNextSlides));c.trigger("mobileScrollPlayingMode","play");window._gaq.push(["_trackEvent","jsplayer","Mobile_PlayButton",config.player_type])});$("#view-done").on(this.getTouchEvent(),function(a){a.stopPropagation();a.preventDefault();e.containerHeight=b.height();b.height($(".verticalStack").height());$("#view-done, #view-save, #slidecount, #more-slide, #slide-end").hide();
$(".header").addClass("fixed-header");c.trigger("mobileScrollPlayingMode","pause");$.mobile.silentScroll(0);$(".presentationSharing, #more-related-content").show();$("#play-icon").css("display","table");config.scroll_test&&$(window).unbind("scroll",e.loadNextSlides);window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewDoneButton",config.player_type])});var h=$("#view-save");h.on(this.getTouchEvent(),function(a){a.stopPropagation();a.preventDefault();h.hasClass("mobile_view_saved")||(h.addClass("mobile_view_saved"),
a=h.data("save-url"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Click",config.player_type]),$.ajax({url:a,success:function(a){a.success?(h.text("Saved"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Success",config.player_type])):(h.removeClass("mobile_view_saved"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Failure",config.player_type]))},error:function(){h.removeClass("mobile_view_saved");window._gaq.push(["_trackEvent","jsplayer",
"Mobile_ViewSaveButton_Error",config.player_type])}}))});$(document).bind("touchmove",function(){h.is(":visible")&&(h.addClass("scrolling-hide"),$("#view-done, #view-save").hide())});$(document).bind(this.getTouchEvent(),function(){h.hasClass("scrolling-hide")&&(h.removeClass("scrolling-hide"),$("#view-done, #view-save").show())})}else a.on(d,function(){var a=parseInt($(".current_slide_number").text(),10),b=$(".previous .ui-btn-inner"),c=$(".next .ui-btn-inner"),d=$(".landscape-full-screen-slidecount");
d.show();setTimeout(function(){d.hide()},1E3);1!==a&&(b.show(),setTimeout(function(){b.hide()},1E3));a!==parseInt($("#total_slides_number").text(),10)?(c.show(),setTimeout(function(){c.hide()},1E3)):setTimeout(function(){$(".lastScreen").css("z-index",99999)},2E3);4===a&&$(".navIcons").removeClass("highlight")})};SSTouchInteraction.prototype.deactivate=function(){};SSTouchInteraction.prototype.destroy=function(){};SSTouchInteraction.prototype._bindEvents=function(){};
function SSFontResource(a){this.resourceTemplate={prefix:a.baseUrl,cacheable:!0,retries:2,isCritical:!1};SSResource.call(this,a)}SSFontResource.prototype=new SSResource;SSFontResource.prototype._initResourceConfig=function(){var a=this.resourceTemplate;this.url=a.prefix+"meta-"+this.config.indexString+this.config.suffix+"?"+this.config.timestamp;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical};
SSFontResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_font_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};SSFontResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){a.status="cached";$.slideshareEventManager.trigger("fontresourceloaded",{style:b.style})}};
SSFontResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},1E3)):$.slideshareEventManager.trigger("fontloadfailed",{})}};
function SSHtmlResource(a){this.resourceTemplate={prefix:a.baseUrl,key:"page_",suffix:".js?"+a.timestamp,digitLength:4,cacheable:!0,retries:2,isCritical:!0};a.is_private&&void 0===a.signature&&(this.loadBlocked=!0);SSResource.call(this,a)}SSHtmlResource.prototype=new SSResource;SSHtmlResource.prototype.ready=function(){this._initResourceConfig();this.loadBlocked=!1;"loading"===this.status&&this.load()};
SSHtmlResource.prototype._initResourceConfig=function(){if(!(this.config.is_private&&void 0===this.config.signature)){var a=this.resourceTemplate,b=this.config.indexGenerator(this.config.realIndex,a.digitLength);this.url=this.config.is_private?a.prefix+a.key+b+".js"+this.config.signature:a.prefix+a.key+b+a.suffix;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical}};SSHtmlResource.prototype.updateSignature=function(a){this.config.signature=a};
SSHtmlResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};
SSHtmlResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){var c=b.style.replace(/a\.ssml_a \{.*?\}/,"").replace(/\.ssml_div span \{.*?\}/,"").replace(/\.ps([\s\S]*?)\{[\s\S]*?\}/g,"").replace(/@font-face[\s\S]*?\{[\s\S]*?\}/g,"");a.html=b.html;a.style=c;$.slideshareEventManager.trigger("resourceloaded",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};SSHtmlResource.prototype.getContent=function(){return{html:this.html,style:this.style}};
function SSImageResource(a){"undefined"!==typeof a&&(a.availableSizes?(this.imageVersions=this._mapSizesToVersions(a.availableSizes),delete a.availableSizes,this._setUrlGenerator(a.is_private)):this.loadBlocked=!0,this.contentWidth=a.contentWidth,delete a.contentWidth,SSResource.call(this,a),this.RETRY_WAIT_TIME=1E3,delete this.imageVersions)}SSImageResource.prototype=new SSResource;
SSImageResource.prototype._initResourceConfig=function(){if(void 0!==this.imageVersions){var a=this.resourceTemplate;this.indexString=this.config.indexGenerator(this.config.realIndex,a.digitLength);this.suffixes=this._getSuffixes();this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical;this.privateUrls={}}};SSImageResource.prototype._getUrl=function(a){return a[a.length-1].url};
SSImageResource.prototype._mapSizesToVersions=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&(b[parseInt(c,10)]=a[c]);return b};SSImageResource.prototype._setUrlGenerator=function(a){a?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrl):this._generateUrl=this._generateUrl};SSImageResource.prototype.delayedInitialize=function(a){this.imageVersions=this._mapSizesToVersions(a.availableSizes);this.contentWidth=a.contentWidth;this._setUrlGenerator(a.is_private);a.is_private||this.ready()};
SSImageResource.prototype.ready=function(){this._initResourceConfig();delete this.imageVersions;this.loadBlocked=!1;"loading"===this.status&&this.load()};
SSImageResource.prototype._tryLoad=function(a){var a=a||this.config.playerWidth,a=this._getAppropriateWidth(a),b=this.suffixes[a],c;c=this._getUrl(b);a===this.currentWidth&&"initialized"!==b.status||("failed"===b.status?this.versionErrorInternalHandler(a,c)():(this.currentWidth=a,"loading"!==b.status&&("loaded"===b.status?this.versionLoadedInternalHandler(a,c)():(b.status="loading",void 0===b.startTime&&(b.startTime=(new Date).getTime()),this.config.show_image_player&&(c=$(".slide").eq(this.config.realIndex-
1).children(),c=this.config.isFullScreen?c.data("full"):c.data("normal")),b=new Image,$(b).bind("load",this.versionLoadedInternalHandler(a,c)).bind("error",this.versionErrorInternalHandler(a)),void 0!==c&&(b.src=c)))))};
SSImageResource.prototype.versionLoadedInternalHandler=function(a,b){var c=this;return function(){c.suffixes[a].status="loaded";"loading"===c.status?(c.url=b,c.resourceLoadedInternalHandler()()):"cached"===c.status&&a===c.currentWidth&&(c.url=b,$.slideshareEventManager.trigger("currentversionloaded",{index:c.config.slideIndex,resourceKey:c.resourceKey}))}};
SSImageResource.prototype.versionErrorInternalHandler=function(a){var b=this;return function(){var c=b.suffixes[a],d=c.startTime,d=(new Date).getTime()-d,e=c.retries;if(0<e&&d<b.TIMEOUT_LIMIT)c.retries=e-1,c.status="initialized",setTimeout(function(){b._tryLoad()},b.RETRY_WAIT_TIME);else if(c.status="failed","loading"===b.status&&a===b.currentWidth){var c=!1,f;for(f in b.suffixes)if(d=b.suffixes[a],"loading"===d.status||"loaded"==d.status)c=!0;c||b.resourceErrorInternalHandler()()}}};
SSImageResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(){$.slideshareEventManager.trigger("resourceloaded",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};SSImageResource.prototype.getContent=function(){var a=this.suffixes[this.currentWidth];if("loaded"===a.status)return this.url;for(var b in this.suffixes)if(a=this.suffixes[b],"loaded"===a.status)return url=this._getUrl(a);return this.url};
SSImageResource.prototype._getAppropriateWidth=function(a){var b,c,d;b=this.suffixes;var e=[];for(c in b)c=parseInt(c,10),b.hasOwnProperty(c)&&e.push(c);e.sort(function(a,b){return a-b});426>a&&2<=window.devicePixelRatio&&(a=638);for(b=0;b<e.length;b++)if(d=c=e[b],a<=c)return c;return d};function SSMetaResource(a){this.resourceTemplate={url:a.url,cacheable:!0,retries:2,isCritical:!0};SSResource.call(this,a)}SSMetaResource.prototype=new SSResource;
SSMetaResource.prototype._initResourceConfig=function(){var a=this.resourceTemplate;this.url=a.url+"?"+this.config.timestamp;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical};SSMetaResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_meta_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};
SSMetaResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){a.status="loaded";$.slideshareEventManager.trigger("metadataloaded",{type:a.config.type,json:b})}};SSMetaResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},1E3)):$.slideshareEventManager.trigger("metadataloadfailed",{type:a.config.type})}};
function SSBgImageResource(a){this.resourceTemplate={prefix:a.baseUrl,digitLength:3,cacheable:!0,retries:0,isCritical:!0};this.useTimeStamp=!0;var b=a.availableSizes;this.imageVersions=[];for(var c in b)this.imageVersions[parseInt(c,10)]=b[c];a.is_private?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrl):this._generateUrl=this._generateUrl;SSImageResource.call(this,a)}SSBgImageResource.prototype=new SSImageResource;
SSBgImageResource.prototype._generateUrl=function(a,b,c){return this.config.baseUrl+"images/"+parseInt(c,10)+"/slide-"+a+"-"+b+".jpg?cb="+this.config.timestamp};SSBgImageResource.prototype._generatePrivateUrl=function(a,b,c){return this.config.baseUrl+"images%2F"+parseInt(c,10)+"%2Fslide-"+a+"-"+b+".jpg"+this.config.privateImageSignatures[b][c].url};
SSBgImageResource.prototype._getSuffixes=function(){var a={},b=this.imageVersions,c,d,e,f,g,h;for(d in b)if(b.hasOwnProperty(d)){d=parseInt(d,10);e=b[d];a[d]=[];f=e.length;for(c=0;c<f;c++)g=parseInt(e[c],10),h={url:this._generateUrl(this.indexString,d,e[c]),status:"initialized",retries:2},a[d][isNaN(g)?75:g]=h}return a};function SSFallbackImageResource(a){this.resourceTemplate={prefix:a.baseUrl,digitLength:1,cacheable:!0,retries:0,isCritical:!0};this.useTimeStamp=!0;SSImageResource.call(this,a)}
SSFallbackImageResource.prototype=new SSImageResource;SSFallbackImageResource.prototype._generateUrl=function(a,b,c){return this.config.baseUrl+"/"+c+"/slide-"+a+"-"+b+".jpg?"+this.config.timestamp};SSFallbackImageResource.prototype._generatePrivateUrl=function(a,b,c){return"undefined"===typeof this.config.privateImageSignatures?"":this.config.baseUrl+"%2F"+c+"%2Fslide-"+a+"-"+b+".jpg"+this.config.privateImageSignatures[b][c].url};
SSFallbackImageResource.prototype._getSuffixes=function(){var a=[],b=this.imageVersions,c,d,e,f,g,h;for(d in b)if(b.hasOwnProperty(d)){d=parseInt(d,10);f=b[d];a[d]=[];h=f.length;for(c=0;c<h;c++)g=parseInt(f[c],10),e={url:this._generateUrl(this.indexString,d,g),status:"initialized",retries:2},a[d][g]=e}return a};SSFallbackImageResource.prototype.addLinks=function(a){this.links=a.links||[]};SSFallbackImageResource.prototype.addSignature=function(a){this.config.privateImageSignatures=a};
function SSDocumentDisplayer(a){"undefined"!==typeof a&&(SSSlideDisplayer.call(this,a),this.zoomLevels=[1,1.2,1.5,1.75,2,2.5,3,4],this.prerenderedSlides=[],this.isMobile="mobile_slideview"===this.config.hosted_in)}SSDocumentDisplayer.prototype=new SSSlideDisplayer;
SSDocumentDisplayer.prototype._bindEvents=function(){var a=this,b=this.container,c=this.config.linksDisabled,d=!1;this.config.show_image_player?(b.scroll(function(){d=!0}),setInterval(function(){if(d){d=!1;var b=a.detectCurrentSlide();a.scrolledToBottom(b)?$.slideshareEventManager.trigger("showlastscreen"):$.slideshareEventManager.trigger("slidescrolled",{index:b,alreadyInPosition:!0})}},100)):!this.isMobile&&!this.documentSlider&&(b.unbind("scroll"),b.bind("scroll",function(){var b=a.detectCurrentSlide();
$.slideshareEventManager.trigger("slidescrolled",{index:b,alreadyInPosition:!0})}));b.unbind("click");b.bind("click",function(a){var a=a.target,b=a.tagName.toUpperCase(),d;if(c)d=!1;else if("SPAN"===b&&"A"===a.parentNode.tagName.toUpperCase())d=a.parentNode;else if("A"===b||"AREA"===b)d=a;d&&(a=parseInt(d.attributes.href.value,10),isNaN(a)&&window.open(d.href),$.slideshareEventManager.trackOutboundClick(d.href))});$(b).bind("click",function(a){a.preventDefault()})};
SSDocumentDisplayer.prototype._scrollTo=function(a){this.config.show_image_player?(a=this.slidesContainer.children(".slide").eq(a-1),this.container.scrollTop(a.position().top)):this.slides&&(this.documentSlider?(this.documentSlider.inner||this.documentSlider._initInner(),void 0!==this.slideOffsets[a]&&(a=this.slideOffsets[a],this.documentSlider.inner.css("top",-a),this.isMobile||(a=(this.documentSlider.scrollbarY.height()-this.documentSlider.thumbY.height())*a/(this.documentSlider.inner.height()-
this.documentSlider.viewHeight),this.documentSlider.thumbY.css("top",a)))):(a=this.slides[a].currentViewMode.container.position().top,this.container.scrollTop(a)))};
SSDocumentDisplayer.prototype.start=function(a){var b,c;this.lastScrollTop=0;void 0===this.slideContainers&&(this.slideContainers=[]);var d=this.slideContainers;if(!this.config.show_image_player)if(b=window.screen.width!==$(document).width(),c="undefined"===typeof document.documentMode||9<=document.documentMode,"undefined"===typeof this.hadADocSliderAlready&&(this.hadADocSliderAlready=!1),this.documentSlider)this.documentSlider.cleanup(),delete this.documentSlider;else if(this.isMobile||!this.hadADocSliderAlready&&
"nativefullscreen"!==a.mode&&b&&c&&"slideview"===this.config.hosted_in)this.documentSlider=new SSDocumentSlider({dDisplayer:this}),this.hadADocSliderAlready=!0;if(void 0===this.slides){this.slides=a.slides;this.state="playing";this.hideInitializer();this.config.show_image_player?(this.slidesContainer=$(".slide_container"),this.$slides=this.slidesContainer.children(".slide")):this.slidesContainer=$("<div/>").appendTo(this.container);for(b=1;b<=this.config.slideCount;b++)d[b]=this.config.show_image_player?
$(".slide").eq(b-1):$("<div/>").appendTo(this.slidesContainer)}this.config.show_image_player||this.slidesContainer.removeClass(this.playerBgColor).addClass("slidesContainer "+a.playerBgColor);a.playerBgColor&&(this.playerBgColor=a.playerBgColor);for(b=1;b<=this.config.slideCount;b++)c=this.slides[b],c.setContainer({mode:a.mode,bgColor:this.playerBgColor,container:d[b],slideNumber:b});this.isMobile||this.setZoom(0)};
SSDocumentDisplayer.prototype.showInitializer=function(){this.config.show_image_player||$("<div/>").addClass(".jsplInitializer").css({width:this.container.width()-10,height:this.container.height()-20}).html("Loading...").appendTo(this.container)};
SSDocumentDisplayer.prototype.detectCurrentSlide=function(){if(this.config.show_image_player){var a=this.container,b=a.scrollTop();if("undefined"===typeof this.lastScrollTop||"undefined"===typeof this.lastSlideIndex)this.lastSlideIndex=this.lastScrollTop=-1;var c=this.currentPosition,d;(b>this.lastScrollTop?this.$slides.slice(0>c-3?0:c-3):$(this.$slides.slice(0,c+3).get().reverse())).each(function(){var c=$(this).position().top-b;if(c<=a.height()/2&&c+$(this).height()>a.height()/2)return d=$(this).data("index"),
!1});this.lastScrollTop=b;return this.lastSlideIndex=d}c=this.documentSlider?this.documentSlider.topEdge():this.container.scrollTop();a:{var e;for(e=1;e<this.config.slideCount;e++){var f=this.slideOffsets[e+1];if(c>=this.slideOffsets[e]&&c<f){c=e;break a}}c=this.config.slideCount}return c};
SSDocumentDisplayer.prototype.scrolledToBottom=function(a){if(!this.config.slideCount||this.config.slideCount!==a)return!1;var b=this.container.scrollTop(),a=this.slides[a].$slide;return a.position().top-b+a.height()<=this.container.height()?!0:!1};
SSDocumentDisplayer.prototype.setZoom=function(a){this.zoomIndex=a;var b=this.zoomLevels[this.zoomIndex];if(this.config.show_image_player){var a=this.container.scrollTop(),c=this.detectCurrentSlide();this._scrollTo(c);var d=this.container.scrollTop();1===b?(this.container.removeClass("jsplDocumentZoomed").addClass("jsplDocumentUnZoomed"),this.slidesContainer.width("100%"),this.width=this.slidesContainer.width()):(this.container.removeClass("jsplDocumentUnZoomed").addClass("jsplDocumentZoomed"),b*=
this.config.width,this.slidesContainer.width(b),this.width=b);this._scrollTo(c);this.container.scrollTop(a*this.container.scrollTop()/d)}else 1===b?(this.container.removeClass("jsplDocumentZoomed").addClass("jsplDocumentUnZoomed"),this.slidesContainer.width("100%"),this.width=this.slidesContainer.width()):(this.container.removeClass("jsplDocumentUnZoomed").addClass("jsplDocumentZoomed"),b*=this.config.width,this.slidesContainer.width(b),this.width=b),this.documentSlider&&this.documentSlider.drawThumbs()};
SSDocumentDisplayer.prototype.getZoomDimensions=function(){var a=this.zoomLevels[this.zoomIndex];return{width:this.config.width*a,height:this.config.height*a,displayerWidth:this.width}};
SSDocumentDisplayer.prototype.setDimensions=function(a){if(this.config.show_image_player)"object"===typeof a&&(this.config.width=a.width,this.config.height=a.height);else{"object"===typeof a&&(this.config.width=a.width,this.config.height=a.height);var b=a&&a.partial;!b&&"playing"===this.state&&this.setZoom(this.zoomIndex);var c=this.getZoomDimensions(),a=c.height,c=c.displayerWidth;this.container.css({height:this.config.height,width:this.config.width});if(!b&&"playing"===this.state){this.panelHeight=
0;var d,e;e=0;for(b=1;b<=this.config.slideCount;b++)d=this.slides[b],d.setDimensions({parentWidth:c,parentHeight:a}),this.slideOffsets[b]=e,e+=d.wrapperOffset();this.height=e;!this.isMobile&&this.documentSlider&&(this.documentSlider.drawThumbs(),this.documentSlider.makeThumbsDraggable(),this.documentSlider.makeScrollbarsClickable());this.isMobile&&$(".slideShow").height(d.currentViewMode.height)}}};
SSDocumentDisplayer.prototype.setPrerenderedSlides=function(a){if(!this.config.show_image_player){var b;for(b=a.start;b<=a.end;b++)-1===$.inArray(b,this.prerenderedSlides)&&this.prerenderedSlides.push(b)}};SSDocumentDisplayer.prototype.emptySlides=function(){if(!this.config.show_image_player){for(var a in this.slides){var b=this.slides;b.hasOwnProperty(a)&&b[a].hide()}this.prerenderedSlides=[]}};
SSDocumentDisplayer.prototype.manualScroll=function(a){this.container&&this.container.scrollTop(this.container.scrollTop()+a)};function SSDocumentSlide(a){SSSlide.call(this,a);this.PADDING=5}SSDocumentSlide.prototype=new SSSlide;SSDocumentSlide.prototype.wrapperOffset=function(){if(!this.config.show_image_player)return this.currentViewMode.wrapperHeight+2*this.PADDING};SSDocumentSlide.prototype.empty=function(){this.config.show_image_player||this.currentViewMode.wrapper.empty()};
SSDocumentSlide.prototype.displayLoading=function(){this.config.show_image_player||(this.empty(),$("<div/>").addClass("jsplSlideLoading").css({width:this.currentViewMode.width,height:this.currentViewMode.height-10}).html("Loading...").appendTo(this.currentViewMode.wrapper))};
SSDocumentSlide.prototype.setDimensions=function(a){var b=a.parentWidth,c=a.parentHeight-2*this.PADDING,d,e;void 0===this.contentWidth||void 0===this.contentHeight?(d=b,e=1.33*b):(d=this.contentWidth,e=this.contentHeight);var f,a=b/d;f=16*a;e=b/c/(d/e);d=this.PADDING;c*=e;b=parseInt(b,10);c=parseInt(c,10);this.config.show_image_player?this.currentViewMode.wrapper.addClass("jsplSlideWrapper "+this.currentViewMode.bgColor):(this.currentViewMode.container.css({width:b,height:c,padding:this.PADDING+"px 0"}),
this.currentViewMode.wrapper.addClass("jsplSlideWrapper "+this.currentViewMode.bgColor).css({width:b,height:c}));this.currentViewMode.wrapperWidth=b;this.currentViewMode.wrapperHeight=c;this.currentViewMode.top=d;this.currentViewMode.left=0;this.currentViewMode.contentScale=a;this.currentViewMode.fontscale=f;this.currentViewMode.width=b;this.currentViewMode.height=c};
SSDocumentSlide.prototype.hide=function(){this.config.show_image_player?this.$slide.hide():this.currentViewMode.rendered&&(this.empty(),this.currentViewMode.wrapper.addClass("hide"),delete this.currentViewMode.contentElement,delete this.currentViewMode.imageElement,this.currentViewMode.rendered=!1)};SSDocumentSlide.prototype.show=function(a){if(!this.currentViewMode.rendered||a)this.currentViewMode.rendered=!0,this.load()};
SSDocumentSlide.prototype.play=function(){$.slideshareEventManager.trigger("slidechanged",{index:this.index});this.config.show_image_player||this.show()};
SSDocumentSlide.prototype.setContainer=function(a){var b=a.mode;void 0===this.viewModes[b]&&(this.viewModes[b]=this.config.show_image_player?{rendered:!1,bgColor:a.bgColor||"jsplBgColorBigfoot",container:a.container,wrapper:$("<div/>")}:{rendered:!1,bgColor:a.bgColor||"jsplBgColorBigfoot",container:a.container,wrapper:$("<div/>").appendTo(a.container)},this.viewModes[b].container.css({position:"relative"}));this.currentViewMode=this.viewModes[b];this.currentViewMode.wrapper.removeClass("hide");this.currentMode=
a.mode};
function SSToolbar(a){this.config=a;this.GA_EVENTS={viewonss:"toolbar_viewonss",zoomin:"toolbar_zoomin",zoomout:"toolbar_zoomout",viewfullscreen:"toolbar_fullscreen",leavefullscreen:"toolbar_leavefullscreen",gotolastslide:"goto_last_slide",gotofirstslide:"goto_first_slide",flag:"flag_as_inappropriate"};this.GA_EVENTS_SRC={previous:"toolbar_prev",next:"toolbar_next"};this._init();this._ELEMENTS=this.getElements(a.elementOverrides);this._ELEMENT_PRIORITIES={1:["nav"],5:["viewOnSS"],2:["fullScreen","leaveFullScreen"],
3:["share"],4:["goToSlide"],6:["zoomButtons"],7:["flag"]};this._BUTTONS=this.getButtons({btnFirst:"#btnFirst",btnPrevious:"#btnPrevious",btnNext:"#btnNext",btnLast:"#btnLast",btnSS:".btnSS",btnViewOnSS:".btnViewOnSS",btnFullScreen:"#btnFullScreen",btnLeaveFullScreen:"#btnLeaveFullScreen",btnZoomOut:"#btnZoomOut",btnZoomIn:"#btnZoomIn",btnFind:".btnFind",btnShare:".btnShare",btnAudio:".btnAudio",btnVolume:".btnVolume",btnFlag:".btnFlag"},a.buttonOverrides);this._ELEMENT_VISIBILITY={share:!this.config.disableShare,
fullScreen:!this.config.disableFullScreen&&!this.config.isFullScreen,leaveFullScreen:!this.config.disableLeaveFullScreen&&this.config.isFullScreen,viewOnSS:this.config.enableViewSS,zoomButtons:this.config.enableZoomButtons||!1,nav:!this.config.disableNav,goToSlide:!this.config.disableGoToSlide,flag:this.config.isEmbed};this._ELEMENT_SECTION={nav:"one",share:"two",fullScreen:"two",leaveFullScreen:"two",goToSlide:"two",viewOnSS:"one",zoomButtons:"two",flag:"one"};a={small:29,normal:88};"document"==
this.config.playerType||"infographic"===this.config.playerType?(this._ELEMENT_WIDTHS={nav:30,share:72,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:a[this.config.toolbarClass],zoomButtons:56,flag:24},this._ELEMENT_SECTION.share="one"):this._ELEMENT_WIDTHS={nav:57,share:35,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:a[this.config.toolbarClass],flag:24};this.config.toolbarPadding=6}
SSToolbar.prototype._init=function(){var a;this.config.show_image_player?a=$(".toolbar"):(a=$('<div class="toolbar"></div>').html(this.config.html).appendTo(this.config.renderTo),$(".slideshow-info-container").css("padding-top",20));this.container=a;if(this.toolbarOnFullscreen="presentation"===this.config.player_type||"document"===this.config.player_type)this.$fullscreenTitleBanner=$(".j-fullscreen-title-banner");this.$currSlide=this.container.find(".j-current-slide");this.$progressBar=this.container.find(".j-progress-bar");
this.$progressBar.length&&this.initProgressBar();this.totalSlideCount=this.config.totalSlideCount;this.config.toolbarClass=this._getToolbarClass();this.container.addClass(this.config.toolbarClass);this.config.enableViewSS&&a.find(".btnViewOnSS").show();if(this.config.isEmbed){if(this.isEmbed=!0,this.config.isFlagged){var b=a.find(".btnFlag");b.addClass("flagged")&&b.prop("title","Flagged as inappropriate")}}else"video"===this.config.playerType&&a.find(".btnFlag").hide();this.config.isFullScreen&&
(a.find("#btnFullScreen").hide(),a.find("#btnLeaveFullScreen").show());"video"===this.config.playerType&&(this.volumeControl=new SSVolumeControl({container:a.find(".jspl_volume_control"),renderTo:a,trigger:a.find(".btnVolume"),player:this.config.renderTo}),this.audioActive=!0);var c=this;a.find(".j-total-slides").text(this.totalSlideCount);$(".slide_container").on("mousemove",function(a){c.prevCursorScreenX!==a.screenX&&c.prevCursorScreenY!==a.screenY&&(c.prevCursorScreenY=a.screenX,c.prevCursorScreenY=
a.screenY,c.showFullscreenToolbar(!0))});this.container.on("mouseover",function(){c.showFullscreenToolbar(!1)})};SSToolbar.prototype.showFullscreenToolbar=function(a){if(this.config.isFullScreen&&this.toolbarOnFullscreen){var b=this.$fullscreenTitleBanner.add(this.container.closest(".toolbar_wrapper")).add("#lead_cta");b.is(":hidden")&&b.fadeIn("fast");clearTimeout(this.showFSElemsTimer);a&&(this.showFSElemsTimer=setTimeout(function(){b.fadeOut("fast")},3E3))}};
SSToolbar.prototype._initForNativeFullScreen=function(){this._ELEMENT_VISIBILITY.fullScreen=!this.config.disableFullScreen&&!this.config.isFullScreen;this._ELEMENT_VISIBILITY.leaveFullScreen=!this.config.disableLeaveFullScreen&&this.config.isFullScreen};SSToolbar.prototype._getToolbarClass=function(){var a="";return a=400>this.config.width?"small":"normal"};SSToolbar.prototype.resetButtons=function(a){this._unbindButtonHandler(a);this._bindButtonHandler(a)};
SSToolbar.prototype.getElements=function(a){var b=this.container,c={};$.each({nav:".nav",share:".btnShare",fullScreen:"#btnFullScreen",leaveFullScreen:"#btnLeaveFullScreen",viewOnSS:".btnViewOnSS",goToSlide:".goToSlideLabel",zoomButtons:".docActions",flag:".btnFlag"},function(d,e){c[d]=a&&a[d]?$(a[d]):b.find(e)});return c};SSToolbar.prototype.getButtons=function(a,b){var c=this,d={};$.each(a,function(a,f){d[a]=b&&b[a]?$(b[a]):c.container.find(f)});return d};
SSToolbar.prototype.deactivate=function(){$.each(this._BUTTONS,function(a,b){b.unbind("click")});this._unbindButtonHandler(this._BUTTONS);this.container.find(".goToSlideLabel>input[type=text]").attr("disabled",!0);this.active=!1;"video"===this.config.playerType&&this._activateAudio()};
SSToolbar.prototype.activate=function(){var a=this;this._bindButtonHandler({btnViewOnSS:"viewonss",btnFirst:"gotofirstslide",btnSS:"viewonss",btnPrevious:"previous",btnNext:"next",btnLast:"gotolastslide",btnFullScreen:"viewfullscreen",btnLeaveFullScreen:"leavefullscreen",btnZoomOut:"zoomout",btnZoomIn:"zoomin",btnFind:"playersearch",btnShare:"playershare",btnFlag:"flag"});this.$progressBar.on("click",function(){var b=parseInt(a.$tooltipSlideCount.text(),10);$.slideshareEventManager.trigger("gotoslide",
{index:b});$.slideshareEventManager.trackEvent("progressbar_click")});this.active=!0;"video"===this.config.playerType&&this._activateAudio()};SSToolbar.prototype.updateAudioInteraction=function(a){for(var b in a)this[b]=a[b];"video"===this.config.playerType?this._activateAudio():this.active&&this.audioReady&&this.audioMetaReady?(!this.audioActive&&this._activateAudio(),this._updateAudioDisplay()):this.audioActive&&this._deactivateAudio()};
SSToolbar.prototype._activateAudio=function(){this.container.find(".btnAudio,.btnVolume").removeClass("disabled");this._bindButtonHandler({btnAudio:"toggleaudio",btnVolume:"showvolumecontrol"});this.audioActive=!0};SSToolbar.prototype._deactivateAudio=function(){this.container.find(".btnAudio,.btnVolume").addClass("disabled");this._unbindButtonHandler({btnAudio:null,btnVolume:null});this.audioActive=!1};
SSToolbar.prototype._updateAudioDisplay=function(){this.audioPlaying?this.container.find(".btnAudio").removeClass("btnAudioPlay").addClass("btnAudioPause").attr("title","Pause"):this.container.find(".btnAudio").removeClass("btnAudioPause").addClass("btnAudioPlay").attr("title","Play")};
SSToolbar.prototype._bindButtonHandler=function(a){var b=this;$.each(a,function(a,c){var f=b._BUTTONS[a];f&&(f.unbind(),f.bind("click",function(a){a.preventDefault();$.slideshareEventManager.trigger(c,{source:b.GA_EVENTS_SRC[c]});"flag"===c&&a.stopPropagation();(a=b.GA_EVENTS[c])&&$.slideshareEventManager.trackEvent(a)}))});var c=b.container.find(".flag-menu");b.container.parents("#player").on("click",function(){"none"!=c.css("display")&&c.hide()})};
SSToolbar.prototype._unbindButtonHandler=function(a){var b=this;$.each(a,function(a){a=b._BUTTONS[a];a.unbind();a.bind("click",function(a){a.preventDefault();a.stopPropagation()})})};
SSToolbar.prototype.setDimensions=function(a){var b=this,a=a.width/2-b.config.toolbarPadding-b._ELEMENT_WIDTHS[b._ELEMENT_PRIORITIES[1][0]],c={one:a,two:a},d,e,f,g;$.each(this._ELEMENT_PRIORITIES,function(a,j){d=j.length;for(var k=0;k<d;k++){e=j[k];var l=b._ELEMENT_SECTION[e];f=b._ELEMENT_WIDTHS[e];g=b._ELEMENT_VISIBILITY[e]&&c[l]>f;1==a||g?(b._ELEMENTS[e].show(),1!=a&&(c[l]-=f)):b._ELEMENTS[e].hide()}})};SSToolbar.prototype.updateCurrentPosition=function(a){this.handleDisabledButtons(a);this.$currSlide.text(a)};
SSToolbar.prototype.handleDisabledButtons=function(a){this._BUTTONS.btnPrevious.find(".j-prev-btn").removeClass("disabled");1===a&&this._BUTTONS.btnPrevious.find(".j-prev-btn").addClass("disabled")};SSToolbar.prototype.destroy=function(){this.container.remove()};SSToolbar.prototype.updateProgressBar=function(){if(this.$slidesLoadedBar){var a=100*(this.$currSlide.text()/this.totalSlideCount);this.$slidesLoadedBar.width(a+"%")}};
SSToolbar.prototype.initProgressBar=function(){var a=this;this.$slidesLoadedBar=this.$progressBar.find(".j-slides-loaded-bar");this.$progressToolTip=this.$progressBar.find(".j-progress-tooltip");this.$toolTipContent=this.$progressToolTip.find(".j-tooltip-content");this.$toolTipThumb=this.$toolTipContent.find(".j-tooltip-thumb");this.$tooltipSlideCount=this.$progressToolTip.find(".j-slidecount-label");this.$tooltipSlideCount.text(this.$currSlide.text());this.$progressBar.on("mousemove",function(b){a.displayProgressTooltip(b)});
this.$progressBar.on("mouseleave",function(){a.hideProgressTooltip()})};SSToolbar.prototype.displayProgressTooltip=function(a){var b=this.$progressBar.offset().left,a=a.pageX-b,b=this.$progressBar.width(),b=Math.max(1,Math.ceil(a/b*this.totalSlideCount)),c=this.$progressToolTip.outerWidth();this.$progressToolTip.css("margin-left",a-c/2);this.$tooltipSlideCount.text(b);this.isEmbed&&this.fitTooltipInWindow();a=this.$toolTipThumb.attr("slide-thumb-"+b);this.$toolTipThumb.attr("src",a);this.$progressToolTip.show()};
SSToolbar.prototype.updateBamboo=function(a){var b=this._BUTTONS.btnNext.find("a"),c=this._BUTTONS.btnPrevious.find("a");b.data("slide",a.nextInd);b.attr("href",a.nextHref);b.attr("title",a.nextTitle);c.data("slide",a.prevInd);c.attr("href",a.prevHref);c.attr("title",a.prevTitle)};
SSToolbar.prototype.fitTooltipInWindow=function(){this.$toolTipThumb.css({"margin-left":0,"margin-right":0});this.$tooltipSlideCount.css({"margin-left":0,"margin-right":0,"border-bottom-left-radius":3,"border-bottom-right-radius":3});var a=this.$toolTipThumb.offset().left,b=a+this.$toolTipThumb.outerWidth(),c=this.$tooltipSlideCount.offset().left,d=c+this.$tooltipSlideCount.outerWidth(),e=$(window).width();0>a?this.$toolTipThumb.css("margin-left",-1*a):b>e&&this.$toolTipThumb.css("margin-left",2*
(e-b));0>c?this.$tooltipSlideCount.css({"margin-left":-1*c-1,"border-bottom-left-radius":0}):d>e&&this.$tooltipSlideCount.css({"margin-left":e-d,"border-bottom-right-radius":0})};SSToolbar.prototype.hideProgressTooltip=function(){this.$progressToolTip.hide()};
(function(a){function b(){c.slideshareEventManager&&(this.$clipsInfo=c(".j-clips-info"),this.$clipsCount=c(".j-clips-count"),this.$clipsCountText=c(".j-clips-count-text"),this.$clipButton=c(".j-clips-button"),this.$slidePosition=c(".j-slide-position"),this.$progressMeter=c(".j-clips-meter"),this.$clipsActions=c(".j-clips-actions"),this.$firstClipJoyride=c(".j-clips-first-clip-joyride"),this.$clipButton.show(),this.$clipsToast=c(".j-clips-toast"),this.$clipsToastClipped=c(".j-clips-toast-clipped"),
this.$clipsToastClipboards=c(".j-clips-toast-clipboards"),this.clips=slideshare_object.slideshow.clips||{},this.clipCounts=slideshare_object.slideshow.clip_counts||{},this.userClipsNumber=slideshare_object.user.clips_number||0,this.clipsToastTimeout=null,this._createForm=new e,this.toggleClipButton(!1),this.bindEvents(),this.updateSlideState(),g&&(this.$firstClipJoyride.foundation("joyride","reflow"),this.$clipsToast.foundation("dropdown","reflow")))}var c=a.$,d=a.slideshare_object.utils,e=d.imports("clips.CreateForm"),
f=c.slideshareEventManager,g=!!c.fn.foundation,h=a.localStorage,j="slideshare.clips.clippedOnce."+slideshare_object.user.id,k="slideshare.clips.defaultClipboard."+slideshare_object.user.id,a=b.prototype;a.activate=function(){};a.bindEvents=function(){this.$clipButton.off("click").on("click",function(){d.isUserAuthenticated()?this.toggleClip(f.getCurrentPosition()):alert("Yo.\nYou've gotta log into your SlideShare account to clip.\nIt's easy. Just login with LinkedIn.\nI know you've got one of those accounts.\nAlso, welcome to clipping beta!\nThanks for trying it out!")}.bind(this));
if(f.player)f.player.off("slidechanged").on("slidechanged",function(){this.toggleToast(!1);this.updateSlideState();this._hideClipboardsDropdown()}.bind(this));this.$clipsToastClipboards.on("click",".j-toast-clipboard",this._handleDropdownClick.bind(this));this.$clipsToast.on("click",this.stopToastTimeout.bind(this))};a.updateSlideState=function(){var a=c.slideshareEventManager.getCurrentPosition();this.$clipsActions.toggleClass("clipped",!!this.clips[a]);this.$clipsInfo.toggleClass("j-clips-info-none",
!this.clipCounts[a]);this.$clipsCount.text(this.clipCounts[a]||0);this.$clipsCountText.text(this.$clipsCountText.data(1===this.clipCounts[a]?"content-singular":"content-plural"));this.$slidePosition.text(a);this.updateProgress(this.clips[a]?100:0,!1)};a.updateProgress=function(a,b){this.$progressMeter.toggleClass("j-animate",b).css("width",a+"%")};a.toggleClipButton=function(a){this.$clipButton.toggleClass("pending",a).prop("disabled",a)};a.setClipData=function(a){this.clips[a.position]=a;this.clipCounts[a.position]=
(this.clipCounts[a.position]||0)+1;this.userClipsNumber++};a.deleteClipData=function(a){delete this.clips[a.position];this.clipCounts[a.position]=(this.clipCounts[a.position]||0)-1;this.userClipsNumber--};a.hasUserClippedOnce=function(){return this.userClipsNumber||!h||h.getItem(j)};a.setUserClippedOnce=function(){h&&h.setItem(j,!0)};a.openFirstClipModal=function(){g&&this.$firstClipJoyride.parent().foundation("joyride","start")};a.toggleClip=function(a){var b=this.clips[a];!b&&!this.hasUserClippedOnce()&&
(this.openFirstClipModal(),this.setUserClippedOnce());b?(a=this.deleteClip(b),b="delete"):(a=this.createClip(a),b="create");this.toggleClipButton(!0);a.always(function(){this.updateSlideState();this.toggleClipButton(!1)}.bind(this));slideshare_object.ga("clips","click",b)};a.handleError=function(a){(window.console&&(console.error||console.log).bind(console)||function(){})(a)};a.createClip=function(a){var b={slideshow_id:slideshare_object.slideshow.id,user_id:slideshare_object.user.id,position:a};
this.updateProgress(90,!0);return this.getClipboards().then(function(a){var b=this.getDefaultClipboard(a);this.updateClipboards(a);return b&&b.id?b:this.createClipboard(b)}.bind(this)).then(function(a){return this.addClipToClipboard(b,a)}.bind(this)).then(function(b){var d=a===c.slideshareEventManager.getCurrentPosition();this.setClipData(b.clip);this.setToastClipboard(b.clipboard);this.toggleToast(d,d);this.updateSlideState()}.bind(this)).fail(function(a){this.handleError("Error while clipping. "+
a.statusText)}.bind(this))};a.createFakeSystemClipboard=function(){return{title:this.$clipsToast.data("system-clipboard-title"),"private":!1,system_created:!0,is_default:!0}};a.getClipboards=function(){return c.get("/clipboards").fail(function(a){this.handleError("Error fetching clipboards. "+a.statusText)}.bind(this)).done(function(a){a=a||[];if(0===a.length)a.push(this.createFakeSystemClipboard());else{var b=null,c=this.getUserDefaultClipboardId();a.some(function(a){if(c&&c===a.id||!b||!b.system_created&&
a.system_created)return b=a,c&&a.id===c});b.is_default=!0;this.setUserDefaultClipboard(b.id)}return a}.bind(this))};a.getUserDefaultClipboardId=function(){return Number(h&&h.getItem(k))||!1};a.getClipboardTitle=function(a){return a.title+(a.is_default?" "+this.$clipsToast.data("default-text"):"")};a.setUserDefaultClipboard=function(a){h&&h.setItem(k,a)};a.createClipboard=function(a){return c.ajax({method:"POST",dataType:"json",url:"/clipboards",data:a}).then(function(a){return a.clipboard},function(a){this.handleError("Error creating a clipboard",
a)}.bind(this))};a.addClipToClipboard=function(a,b){return c.ajax({method:"POST",dataType:"json",url:"/clipboards/"+b.id+"/clips",data:a,context:this}).then(function(a){return{clip:a.clip,clipboard:b}},function(a){this.handleError("Error adding to clipboard. "+a.statusText)})};a.removeClipFromClipboard=function(a){var b=this.getUserDefaultClipboardId();return c.ajax({url:"/clipboards/"+b+"/clips/"+a.id,method:"DELETE",dataType:"json",context:this}).then(function(a){this.toggleToast(!1,!0);return a},
function(a){this.handleError("Error removing clip from clipboard. "+a.statusText)})};a.moveClip=function(a){var b=this.clips[f.getCurrentPosition()];this.setToastClipboard(a);this.$clipsToast.addClass("clipping");return this.addClipToClipboard(b,a).then(function(){return this.removeClipFromClipboard(b)}).then(function(){return this.setUserDefaultClipboard(a.id)})};a.deleteClip=function(a){this.updateProgress(10,!0);this.toggleToast(!1);return c.ajax({url:"/clips/"+a.id,method:"DELETE",dataType:"json",
context:this}).then(function(b){this.deleteClipData(a);this.updateSlideState();this.toggleToast(!1,!0);return b},function(a){this.handleError("Error deleting clip. "+a.statusText)})};a.updateClipboards=function(a){function b(a){return c("<li>",{"class":"j-toast-clipboard"}).append(c("<button>",{text:a}))}a=a.map(function(a){return b(this.getClipboardTitle(a)).data("clipboard-to",a)},this);a.push(b("+ Create new clipboard").addClass("create-new"));this.$clipsToastClipboards.empty().append(a)};a.getDefaultClipboard=
function(a){var b;for(b=0;b<a.length;b++)if(a[b].is_default)return a[b]};a.startToastTimeout=function(){this.stopToastTimeout();this.clipsToastTimeout=setTimeout(function(){this.clipsToastTimeout=null;this.toggleToast(!1,!0)}.bind(this),Number(this.$clipsToast.data("timeout")))};a.stopToastTimeout=function(){this.clipsToastTimeout&&(clearTimeout(this.clipsToastTimeout),this.clipsToastTimeout=null)};a.toggleToast=function(a,b){if(a)this.$clipsToast.removeClass("clipping")[b?"fadeIn":"show"](),this.startToastTimeout();
else this.$clipsToast.removeClass("clipping")[b?"fadeOut":"hide"]()};a.setToastClipboard=function(a){this.$clipsToastClipped.text(this.getClipboardTitle(a))};a._handleDropdownClick=function(a){var a=c(a.currentTarget),b=a.data("clipboard-to");if(b)b.id!==this.getUserDefaultClipboardId()?this.moveClip(b):this.toggleToast(!1,!0),this._hideClipboardsDropdown();else if(this._createForm.render(a))this._createForm.on(e.CREATE_EVENT,function(a,b){this.moveClip(b.clipboard);this._hideClipboardsDropdown();
this.getClipboards().then(function(a){this.updateClipboards(a)}.bind(this))}.bind(this))};a._hideClipboardsDropdown=function(){g&&c(document).foundation("dropdown","close",this.$clipsToastClipboards)};d.exports("clips.Toolbar",b)})(window);
function SSPlayerController(a){"undefined"!==typeof a&&(this.config=a,this.slideCount=this.realSlideCount=this.config.slide_count,this.config.has_video&&(this.slideCount+=this.config.video_slides_count),delete this.config.slide_count,this.mode=this.config.mode,this.config.show_image_player&&"html"===this.config.mode&&(this.mode="image"),this.config.disable_meta=this.config.show_image_player?!0:!1,delete this.config.mode,this.currentPosition=0,this.loadingSlides=[],this.loadedSlides=[],this.slideModes=
{},this.availableBgSizes={},this.availableFallbackSizes={},this.PRELOAD_PRE_LIMIT=2,this.PRELOAD_POST_LIMIT=5,this.FONT_BATCH_COUNT=10,this.DEFAULT_ERROR_SCORE=0,this.AUTOVERIFICATION_ERROR_THRESHOLD=0.001,this.AUTOVERIFICATION_THRESHOLDS={"bad v1.0":0.001,"bad v1.1":1E-4,"bad v2.0":1E-4},this.MAX_PERCENTAGE_FAILING={"bad v1.0":100,"bad v1.1":20,"bad v2.0":20},this.TOOLBAR_HEIGHT=(this.isEmbed="embed"===this.config.hosted_in)?38:56,this.MULTIMEDIABAR_HEIGHT=25,this.config.show_image_player&&(this.MULTIMEDIABAR_HEIGHT=
29),this.initialized=!1,this.PRERENDER_COUNT=1,this._experiments=this._getExperiments(),this._init(),this.startSlide=parseInt(this.config.start_slide||1,10),this.play(this.startSlide),this.config.actionButtonsContainer=$("#svPlayerId .action-btns-container, #player .action-btns-container"))}SSPlayerController.prototype._getExperiments=function(){try{return new (window.slideshare_object.utils.imports("Experiments"))}catch(a){console&&console.warn&&console.warn("Experiments are not found.",a)}return null};
SSPlayerController.prototype._init=function(){var a;$.slideshareEventManager.registerController(this);$.slideshareEventManager.registerEnvironment(this.config.hosted_in);this.cachedDomElements={};this.componentSets={};a=this._isFullScreen()?"fullscreen":"normal";this._createComponentSet(a);this.isNativeFullScreenSupported=this._isNativeFullScreenSupported();this._bindEvents();this.exitFullScreenHandler=this.exitFullScreenHandlerFactory();"video"!==this.mode?!this.config.disable_meta||!this.config.show_image_player?
(this._initMetadata(),this._loadMetadata()):(this.conversionVersion=2,this.slideSizes={},this.slideLinks={},this.postInitialize()):(this.VIDEO_FULLSCREEN_ZINDEX=this.VIDEO_REINITIALISE_TIME=100,this._loadVideoMeta());$.slideshareEventManager.trackEvent("player_initialized",!0);$.slideshareEventManager.trackEvent(this.config.player_type,!0);$.slideshareEventManager.trackUniqueViewer();$.slideshareEventManager.trackEvent(this.mode+"_mode",!0);if(this.config.next_prev_experiment&&(this.config.next_slideshow_pos&&
$.slideshareEventManager.trackEvent("next_slideshow_cta_page_load"),a=window.cookie("next_slideshows_seen_ids")))if(a=a.split(","),(this.config.ssIds=a)&&""!==a[0])for(var b=0,c=a.length;b<c;b++)$('.j-related-more-tab .j-related-item a[data-ssid="'+a[b]+'"]').hide();$(window).on("keyup",function(a){32==a.keyCode&&(a=$(".player"),window.innerWidth==a.width()&&window.innerHeight==a.height()&&$.slideshareEventManager.trigger("next",{source:"spacebar_next"}))})};
SSPlayerController.prototype._loadVideoMeta=function(){this.config.is_private&&this._getHtmlSignatures();this.initialized=!0};
SSPlayerController.prototype._initMetadata=function(){if("html"===this.mode)this.config.is_private&&this._getHtmlSignatures(),this._initFontResources(),this._initHtmlMetadata(),this.config.image_ready&&this._initImageMetadata(!0);else if("image"===this.mode)this._initImageMetadata();else throw window._gaq&&_gaq.push(["_trackEvent","jsplayer","invalidplayermode",this.config.id]),"Unknown player mode";};
SSPlayerController.prototype._loadMetadata=function(){if("html"===this.mode)this.metaResource.load(),this.config.image_ready&&this.imageMetaResource.load();else if("image"===this.mode)this.imageMetaResource.load();else throw"Unknown player mode";};SSPlayerController.prototype._initHtmlMetadata=function(a){this.metaResource=new SSMetaResource({url:this.config.bucket_location+"meta.js",timestamp:this.config.timestamp,type:"html",is_private:this.config.is_private,signature:a})};
SSPlayerController.prototype._initImageMetadata=function(a){this.imageMetaResource=new SSMetaResource({url:this.config.image_bucket_location+"/meta.js",timestamp:this.config.timestamp,type:a?"imagefallback":"imageprimary"})};
SSPlayerController.prototype._initFontResources=function(a,b){var c=navigator.userAgent.toLowerCase();fontBatchNum=b?Math.ceil(this.slideCount/b):Math.ceil(this.slideCount/this.FONT_BATCH_COUNT);var c=/msie/.test(c)&&!/opera/.test(c)?this.config.html_eotfont_url_suffix:this.config.html_ttffont_url_suffix,d;this.fontResources=[];for(d=1;d<=fontBatchNum;d++)this.fontResources[d]=new SSFontResource({baseUrl:this.config.bucket_location,indexString:this._getIndexString(d,0),timestamp:this.config.timestamp,
suffix:c})};
SSPlayerController.prototype.getImagePrivateSignatures=function(a,b){var c=this;$.ajax({url:c.config.images_signature_request_route,data:{id:c.config.id,key:c.config.secret_key,mode:b,images_sizes:a,version:c.conversionVersion,password_hash:c.config.password_hash,slidetracking_hash:c.config.slidetracking_hash,authenticity_token:window._auth_token},dataType:"json",cache:!1,type:"POST",success:function(a){"html"===b?c.privateImageSignatures=a:"image"===b&&(c.privateFallBackImageSignatures=a);if("html"===
b||"image"===b)c.postInitialize();else if(c.slidesCreated){var e=c.slideModes.image.length,f,g;for(i=0;i<e;i++)g=c.slideModes.image[i],f=c.slides[c.realIndexToIndex[g]],f.resources.image.addSignature(a[g]),f.resources.image.ready()}else c.privateFallBackImageSignatures=a}})};
SSPlayerController.prototype._getHtmlSignatures=function(){var a=this;$.ajax({url:this.config.signature_request_route,data:{id:this.config.id,key:this.config.secret_key},dataType:"json",cache:!1,type:"GET",success:function(b){var c=b.length;if(0!==c){for(var d=0;d<c;d++)a.htmlResourceSignatures=b[d].info;for(d=0;d<a.slideCount;d++)a.slides&&a.slides[d]&&(slide=a.slides[d],slide.resources.html.updateSignature(a.htmlResourceSignatures[d].url),slide.resources.html.ready())}},failure:function(){$.slideshareEventManager.trigger("metadataloadfailed",
{type:a.config.type})}})};
SSPlayerController.prototype._metaDataHandlers=function(){var a=function(){var a,c,d=this.currentComponentSet.slidedisplayer;a=d.container.height();c=d.container.width();d.error(this.generateErrorDom("meta_error_template",{width:c,height:a}));$("#playerFacade").hide()};return{html:{success:function(a){this.conversionVersion=parseInt(a.version||2,10);this.slideSizes=a.sizes||{};this.availableBgSizes=a.available_sizes||{};var c=a.error_scores||{};this.algo=c.algo||"bad v1.0";this.errorScores=c.webkit||
{};c="\n.ssml_div span {line-height:normal;} \n.ssml_div div {line-height:normal;}\n.ssml_div{font-size:16px;}";"none"===this.config.render_links&&(c+="\n.ssml_div a{cursor:default;}");$("<style>"+(a.global_styles_css||"a.ssml_a {text-decoration:none;color:inherit;vertical-align:top;} \n.ssml_div span {position:absolute; white-space:pre; vertical-align:top;} \n.ssml_div div {position:absolute;}")+c+"</style>").appendTo(this.currentComponentSet.container);a.pages_per_fontfile&&(this.FONT_BATCH_COUNT=
a.pages_per_fontfile,this._initFontResources());this.config.is_private?this.getImagePrivateSignatures(this.availableBgSizes,"html"):this.postInitialize()},failure:a},imagefallback:{success:function(a){"none"===this.config.render_links&&(a.links={});this.slidesCreated?this.fallbackMetaHandler(a):this.fallbackMetaData=a},failure:function(){var a=this.slideModes.image.length,c,d,e,f;for(c=0;c<a;c++)d=this.slideModes.image[c],f=this.slides[d],d=f.currentViewMode.width,e=f.currentViewMode.height,f.displayError(this.generateErrorDom("slide_error_template",
{width:d,height:e}),!0)}},imageprimary:{success:function(a){this.conversionVersion=parseInt(a.version||2,10);this.slideSizes=a.sizes||{};"none"===this.config.render_links&&(a.links={});this.slideLinks=a.links||{};this.availableFallbackSizes=a.available_sizes;this.config.is_private?this.getImagePrivateSignatures(this.availableFallbackSizes,"image"):this.postInitialize()},failure:a}}};
SSPlayerController.prototype.fallbackMetaHandler=function(a){var b=parseInt(a.version||2,10),c=a.sizes||{},d=a.available_sizes||{},a=a.links||{},e=this.slideModes.image.length,f,g,h;for(i=0;i<e;i++)slideIndex=this.slideModes.image[i],g=c[slideIndex]||{},f=d[slideIndex],void 0===f&&(f={320:[75],768:[75]},f[g.width]=[75]),h=this.slides[this.realIndexToIndex[slideIndex]],h.setContentDimensions(g.width||0,g.height||0),h.updateResource("image",{sizes:{contentWidth:g.width||0,availableSizes:f,conversionVersion:b,
is_private:this.config.is_private},linkData:a[slideIndex]||[]});this.config.is_private&&this.getImagePrivateSignatures(d,"imagefb")};SSPlayerController.prototype.postInitialize=function(){this._initSlides();this._activateComponentSet(this.currentViewMode);this._setModeForSlides(this.currentViewMode);this.setDimensions();$(this).trigger("playerinitialized");try{window.parent.infographic_campaign&&$.slideshareEventManager.trigger("viewfullscreen")}catch(a){}};
SSPlayerController.prototype.initVideoPlayer=function(a){this.multimediaResource=this.currentComponentSet.videobar;this.multimediaResource.videoPlayer=jwplayer("videoSlideContainer_"+a);this._activateComponentSet(a);this.setDimensions();$("[id*=videoSlideContainer]").css("cursor","default")};
SSPlayerController.prototype._bindEvents=function(){var a=this;$(this).bind("playerinitialized",function(){this.initialized=!0;a.play()});this.config.preload_after_pageload&&$(window).bind("load",function(){a.pageLoadFired=!0});this.config.touch||"video"===this.config.player_type||$(document).bind("keyup",function(b){if("INPUT"!==b.target.nodeName&&"TEXTAREA"!==b.target.nodeName){var c=a.currentComponentSet.leadForm;if(37===b.keyCode&&(!c||!c.isVisible()))a.currentComponentSet.lastScreen&&a.currentComponentSet.lastScreen.destroy(),
$.slideshareEventManager.trigger("previous");39===b.keyCode&&(!c||!c.isVisible())&&$.slideshareEventManager.trigger("next")}});this.isNativeFullScreenSupported&&$(document).bind(this.nativeFullScreen.fullScreenChangeEventName(),function(b){a._nativeFullScreenHandler.call(a,b)})};
SSPlayerController.prototype._bindComponentSetEvents=function(){var a=this;$(this.currentComponentSet.slidedisplayer).bind("zoomchanged",function(){a.repaint();if(this.documentSlider)for(var b=1;b<a.slides.length&&"undefined"!==typeof a.slides[b].currentViewMode.imageElement;)a.currentComponentSet.slidedisplayer.slidesContainer.width()!==a.slides[b].currentViewMode.imageElement.width()&&a.slides[b].show(!0),b++})};
SSPlayerController.prototype._createComponentSet=function(a){this.componentSets[a]={};this.currentComponentSet=this.componentSets[a];this.currentViewMode=a;var b=this.currentComponentSet;if("normal"===a||this.config.show_image_player){if(b.container=$("#"+this.config.container),1!==b.container.length)throw"Unable to find container for player";}else"fullscreen"===a&&(this.normalModeScrollPosition=$(window).scrollTop(),b.container=$("<div/>").addClass("jsplInpageFullScreen").appendTo($("body")),$("body, html").css({overflow:"hidden"}));
var c=this._isFullScreen(a),d=this._getPlayerBgColor(a);b.navigators=[];d={renderTo:b.container,spinnerUrl:this.config.spinner_url,errorImageUrl:this.config.error_image_url,mode:this.mode,slideCount:this.slideCount,playerType:this.config.player_type,playerBgColor:d,hosted_in:this.config.hosted_in,show_image_player:this.config.show_image_player};"html"===this.config.player_type&&(d.iframe_id=this.config.iframe_id);this._isFullScreen(a)&&(d.spinnerUrl=this.config.spinner_url_fullscreen);"document"===
this.config.player_type?b.slidedisplayer="undefined"!==typeof new_mobile_player?new SSMobileDocumentDisplayer(d):new SSDocumentDisplayer(d):"video"===this.config.player_type?(this.videoSpecialSettings=this.getSpecialSettingsForVideo(),d.videoBucket=this.config.video_bucket,d.pptLocation=this.config.ppt_location,d.screenMode=a,d.videoSpinner=this.config.video_spinner_location,d.playerDomName=this.config.container,d.videoExtension=this.config.video_extension,d.useDefaultToolbar=this.videoSpecialSettings.defaultToolbar,
d.ieAndLessThan8=this.videoSpecialSettings.ieLT8,d.swfLocation=this.config.swf_location,d.playIcon=this.config.video_play_icon,d.posterImage=this.config.poster_img_url,d.embedOnIe=this.isEmbedAndIE(),d.isEmbed="embed"===this.config.hosted_in,d.autoplayOnEmbed=this.config.autoplayOnEmbed,this.hasToolbar=!this.videoSpecialSettings.defaultToolbar,d.isMobileDevice=this.config.touch,d.isMobileAndNonIos=this.config.touch&&!navigator.userAgent.match(/(iPhone|iPad|iPod)/i),b.slidedisplayer=new SSVideoDisplayer(d)):
"infographic"===this.config.player_type?(d.isMobileDevice=this.config.touch,b.slidedisplayer=new SSInfographicDisplayer(d)):"html"===this.config.player_type?(d.isMobileDevice=this.config.touch,b.slidedisplayer=new SSIframeDisplayer(d)):(d.isTouch=this.config.touch,b.slidedisplayer="undefined"!==typeof new_mobile_player?new NewMobilePresentationDisplayer(d):new SSPresentationDisplayer(d));this.hasToolbar=!this.config.touch||"mobile_slideview"!==this.config.hosted_in;b.navigators.push(b.slidedisplayer);
this.setDimensions();a=this.currentComponentSet.width;d=this.currentComponentSet.height;this.config.shareScreenClass="";this.config.lastScreenClass="";this.config.showProLastScreen=!0;"mobile_slideview"!==this.config.hosted_in&&(this.config.disable_share||(this.config.shareScreenClass=this._getShareScreenClass(a,d)),"slideview"!==this.config.hosted_in&&(this.config.lastScreenClass=this._getLastScreenClass(a,d)),this.config.showProLastScreen=this.canShowProLastScreen(a,d));this.config.touch?(b.touchInteraction=
new SSTouchInteraction({container:b.slidedisplayer.container,playerType:this.config.player_type,hostedIn:this.config.hosted_in}),b.navigators.push(b.touchInteraction)):"presentation"===this.config.player_type&&!isMobile()&&(b.bandInteraction=new SSBandInteraction({container:b.slidedisplayer.container,width:b.width,linksDisabled:"none"===this.config.render_links}),b.navigators.push(b.bandInteraction));b.leadForm=new SSLeadForm(this);b.navigators.push(b.leadForm);if(this.hasToolbar){c={width:b.width,
height:this.TOOLBAR_HEIGHT,html:this.config.toolbar_html,renderTo:b.container,totalSlideCount:this.slideCount,primaryResourceType:this.config.primaryResourceType,disableShare:this.config.disable_share,disableFullScreen:this.config.disable_full_screen,enableViewSS:this.config.enable_viewSS,isFullScreen:c,playerType:this.config.player_type,enableZoomButtons:"document"==this.config.player_type,show_image_player:this.config.show_image_player,isEmbed:"slideview"!==this.config.hosted_in,isFlagged:this.config.flagging&&
this.config.flagging.is_flagged,player_type:this.config.player_type};a=this.config.player_type;if("infographic"===a||"html"===a)a={disableNav:!0,disableGoToSlide:!0,disableShare:!1,enableViewSS:!0,enableZoomButtons:!1,disableFullScreen:!1,disableLeaveFullScreen:!1,buttonOverrides:{btnLeaveFullScreen:"."+a+"_player a.j-exit-fullscreen"},elementOverrides:{leaveFullScreen:"."+a+"_player a.exit-fullscreen"}},"slideview"==this.config.hosted_in&&(a.enableViewSS=!1,a.disableFullScreen=!1,a.disableLeaveFullScreen=
!1,a.enableZoomButtons=!1,a.buttonOverrides.btnFullScreen=".btnFullScreen",a.elementOverrides.fullScreen=".btnFullScreen"),"slideshare"==this.config.hosted_in&&(a.enableViewSS=!1),$.extend(c,a);b.toolbar=new SSToolbar(c);b.navigators.push(b.toolbar);this._experiments&&this._experiments.getBucket("enable-clipping")&&(c=slideshare_object.utils.imports("clips.Toolbar"),b.clipsToolbar=new c,b.navigators.push(b.clipsToolbar))}"video"===this.config.player_type&&(b.toolbar||(b.toolbar=$("<div/>")),b.videobar=
new SSVideoBar({renderTo:b.toolbar.container,height:this.MULTIMEDIABAR_HEIGHT,html:this.config.multimediabar_html,isMobileDevice:this.config.touch}),b.navigators.push(b.videobar),this.multimediaResource=b.videobar);this.config.has_video&&(b.videoConfetti=$("<img/>").attr({src:this.config.confetti_url}).css({position:"absolute",top:"-1px",left:"-1px"}).appendTo(b.container.find(".stage")));this.config.disable_share||$(".j-action-share").click(function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("playershare",
"share_btn_")});"slideview"!==this.config.hosted_in&&(b.flag=new SSFlaggingEmbeds({flag_menu:".flag-menu"}));"video"!==this.mode&&this._bindComponentSetEvents()};SSPlayerController.prototype.configureComponentsForNativeMode=function(a){var b=this.currentComponentSet;b.slidedisplayer.refresh({spinnerUrl:this.config.spinner_url_fullscreen});b.toolbar.config.isFullScreen=this._isFullScreen(a);b.toolbar._initForNativeFullScreen(a)};
SSPlayerController.prototype._isFullScreen=function(a){return"fullscreen"===a||"nativefullscreen"===a||this.config.is_fullscreen};SSPlayerController.prototype._getPlayerBgColor=function(a){var b="jsplBgColorBigfoot";return b=this._isFullScreen(a)?this.config.fullscreen_bgcolor:this.config.player_bgcolor};SSPlayerController.prototype._getShareScreenClass=function(a,b){var c=null;360<a&&260<b?c="normal":320<a&&250<b?c="small":290<a&&280<b&&(c="tiny");return c};
SSPlayerController.prototype.canShowProLastScreen=function(a,b){return 337>a||142>b?!1:!0};SSPlayerController.prototype._getLastScreenClass=function(a,b){var c="small";512<=a&&421<=b?c="medium":427<=a&&356<=b&&(c="normal");return c};
SSPlayerController.prototype._destroyComponentSet=function(a){var b=this.componentSets[a];$.each(b.navigators,function(a,b){b.destroy()});delete this.componentSets[a].navigators;delete this.componentSets[a].slidedisplayer;"fullscreen"===a&&(b.container.remove(),$("body, html").css({overflow:"auto"}));if(this.slides)for(var c=1;c<=this.slideCount;c++)b=this.slides[c],b.viewModes[a].container.remove(),delete b.viewModes[a];delete this.componentSets[a].container;delete this.componentSets[a]};
SSPlayerController.prototype._mapIndexes=function(){for(var a=this.config.video_hash,b=1,c=this.slideCount,d={},e={},f=1;f<=c;f++)a&&a[f]?d[f]=null:(d[f]=b,e[b]=f,b++);this.config.has_video&&(a=document.createElement("script"),a.src=(this.config.use_ssl?"https://":"http://")+"www.youtube.com/player_api",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b));this.indexToRealIndex=d;this.realIndexToIndex=e};
SSPlayerController.prototype._percentageFailing=function(a){var b=0,c;for(c in this.errorScores)this.errorScores[c]>a&&b++;return 0===this.slideCount?0:parseInt(100*(b/this.slideCount),10)};
SSPlayerController.prototype._initSlides=function(){this.slides=[];this.slideModes.image=[];this.slideModes.html=[];var a,b,c,d=!1,e,f=0,g=this.config.video_hash;this._mapIndexes();var h=this.indexToRealIndex,j=this.AUTOVERIFICATION_ERROR_THRESHOLD,k=0,l=100;2===this.conversionVersion&&"undefined"!==typeof this.AUTOVERIFICATION_THRESHOLDS[this.algo]&&(j=this.AUTOVERIFICATION_THRESHOLDS[this.algo],k=this._percentageFailing(j));2===this.conversionVersion&&"undefined"!==typeof this.MAX_PERCENTAGE_FAILING[this.algo]&&
(l=this.MAX_PERCENTAGE_FAILING[this.algo]);for(a in h)if(h.hasOwnProperty(a)){a=parseInt(a,10);e=h[a];null===h[a]?(b="ytube_video",f++):"iframe"===this.mode?b="iframe":1===a&&this.config.image_ready?(b="image",d=!0):"html"===this.mode&&!this.config.image_ready?b="html":"image"===this.mode?b="image":2===this.conversionVersion&&k>l?(b="image",this.disableLoadingFonts=d=!0):(b=parseFloat(this.errorScores[a]),isNaN(b)&&(b=this.DEFAULT_ERROR_SCORE),b>j?(b="image",d=!0):b="html");null===e&&(e=g[a].parent);
c=this.slideSizes[e]||{};"html"===b?this.slideModes.html.push(e):"image"===b&&this.slideModes.image.push(e);var p="all"===this.config.render_links;c={ssid:this.config.id,realIndex:e,index:a,type:this.mode,linkOffset:f,slideMode:b,indexGenerator:this._getIndexString,contentWidth:parseInt(c.width,10)||638,contentHeight:parseInt(c.height,10)||479,playerWidth:this.currentComponentSet.width,errorImageUrl:this.config.error_image_url,spinnerUrl:this.config.spinner_url,spinnerUrlFullscreen:this.config.spinner_url_fullscreen,
playerType:this.config.player_type,stripped_title:this.config.stripped_title,timestamp:this.config.timestamp,ppt_location:this.config.ppt_location,is_private:this.config.is_private,is_render_all_links:p,hosted_in:this.config.hosted_in,show_image_player:this.config.show_image_player,isStartSlide:this.config.start_slide===a};"html"===b?(c.bucketLocation=this.config.bucket_location,c.availableSizes=this.availableBgSizes[e]):"image"===b?(c.bucketLocation=this.config.image_bucket_location,c.availableSizes=
this.config.disable_meta?{1024:[95]}:this.availableFallbackSizes[e]):"iframe"===b&&(c.html_location=this.config.html_location,c.iframe_id=this.config.iframe_id);this.config.is_private&&("html"==b?(this.htmlResourceSignatures&&this.htmlResourceSignatures[e]&&(c.htmlResourceSignature=this.htmlResourceSignatures[e].url),c.privateImageSignatures=this.privateImageSignatures[e]):"image"==b&&this.privateFallBackImageSignatures&&(c.privateImageSignatures=this.privateFallBackImageSignatures[e]));"document"===
this.config.player_type?b="undefined"!==typeof new_mobile_player?new MobileDocumentSlide(c):new SSDocumentSlide(c):"infographic"===this.config.player_type?b=new SSInfographicSlide(c):"html"===this.config.player_type?b=new SSIframeSlide(c):"ytube_video"!==b?b="undefined"!==typeof new_mobile_player?new SlideshareMobileSlide(c):new SSPresentationSlide(c):(c.video_id=g[a].video_id,c.current_video_count=f,c.loading_message_partial=this.config.loading_message_partial,1===a&&(c.contentWidth=728,c.contentHeight=
542),b=new SSVideoEmbedSlide(c));"image"===this.mode&&void 0!==this.slideLinks[e]&&b.updateResource("image",{linkData:this.slideLinks[e]||{}});this.slides[a]=b;delete this.availableFallbackSizes[e]}!0===d&&(this.slidesCreated=!0,this.fallbackMetaData&&this.fallbackMetaHandler(this.fallbackMetaData))};SSPlayerController.prototype._getIndexString=function(a,b){var c=""+a,d=c.length,e;for(e=0;e<b-d;e++)c="0"+c;return c};
SSPlayerController.prototype._getContainerSize=function(){this.currentComponentSet.width=this.currentComponentSet.container.width();this.currentComponentSet.height=this.currentComponentSet.container.height()};
SSPlayerController.prototype.setDimensions=function(a,b){var c=this.currentComponentSet;this._getContainerSize();a=a||!1;c.viewHeight=c.height;this.hasToolbar&&(c.viewHeight-=this.TOOLBAR_HEIGHT);c.slidedisplayer.setDimensions({width:c.width,height:c.viewHeight,partial:a});if(!a){var d={height:c.viewHeight,width:c.width},e=this.currentComponentSet;$.each(["toolbar","videobar","leadcta","shareScreen","lastScreen"],function(a,c){e[c]&&"function"===typeof e[c].setDimensions&&e[c].setDimensions(d,b)})}};
SSPlayerController.prototype.getSpecialSettingsForVideo=function(){var a=navigator.userAgent.toLowerCase();/mozilla/.test(a)&&/(compatible|webkit|trident)/.test(a);var a=/msie/.test(a)&&!/opera/.test(a)&&document.documentMode&&8>document.documentMode,b={ieLT8:a},c=!1;"video"===this.config.player_type?a&&this.isEmbedAndIE()&&(c=!0):c=!1;b.defaultToolbar=c;return b};
SSPlayerController.prototype.repaint=function(a){var b=navigator.userAgent.toLowerCase(),b=/msie/.test(b)&&!/opera/.test(b);if(!(void 0===this.currentComponentSet.slidedisplayer||"video"===this.config.player_type&&b&&this.currentComponentSet.videobar.fullscreen)){this.setDimensions(!0);this.setDimensions(!1,a);this._repaintPrerenderedSlides();if(this.config.has_video){var c=this;setTimeout(function(){c.resizeVideoEmbeds()},250)}this.config.show_image_player||this.currentComponentSet.slidedisplayer._scrollTo(this.currentPosition)}};
SSPlayerController.prototype._repaintPrerenderedSlides=function(){var a=this.currentComponentSet.slidedisplayer.prerenderedSlides,b;if(a&&0<a.length){var c;for(c=0;c<a.length;c++)b=a[c],this.slides[b].show(!0)}};
SSPlayerController.prototype.updateCurrentPosition=function(a){if(this.slides&&void 0!==this.slides[a]&&(this.config.show_image_player&&(this.currentComponentSet.slidedisplayer.currentPosition=a),"video"!==this.config.player_type)){var b=this.currentComponentSet.toolbar;b&&b.updateCurrentPosition(a);this.currentPosition=a;this.slides[a].painted=!0;b.updateProgressBar()}};
SSPlayerController.prototype.displayLastScreen=function(){var a=this;if(!("video"===this.config.player_type&&this.currentComponentSet.videobar.fullscreen)){"undefined"===typeof this.currentComponentSet.lastScreen&&(this.config.is_only_private||this.config.disable_lastscreen&&!this.config.showProLastScreen||this.config.show_replay_screen?this.currentComponentSet.lastScreen=new SSReplayScreen({renderTo:this.currentComponentSet.container,settings:this.config.replayscreen}):("undefined"===typeof this.currentComponentSet.lastScreen&&
(this.currentComponentSet.lastScreen=this._getShareScreen()),this.currentComponentSet.lastScreen=this.currentComponentSet.shareScreen),$(this.currentComponentSet.lastScreen).bind("gotofirstslide",function(){$(a).trigger("gotofirstslide")}));var b=this.currentComponentSet;b.viewHeight=b.height;this.hasToolbar&&(b.viewHeight-=this.TOOLBAR_HEIGHT);this.currentComponentSet.lastScreen.show({width:b.width,height:b.viewHeight},this._isFullScreen(this.currentViewMode));this.currentComponentSet.lastScreen.isProLastScreen?
$.slideshareEventManager.trackEvent("proLastscreen_shown"):$.slideshareEventManager.trackEvent("lastscreen_shown")}};SSPlayerController.prototype.hideLastScreen=function(){this.currentComponentSet.lastScreen&&this.currentComponentSet.lastScreen.isVisible&&this.currentComponentSet.lastScreen.hide()};SSPlayerController.prototype.hideShareScreen=function(){this.currentComponentSet.shareScreen&&this.currentComponentSet.shareScreen.isVisible&&this.currentComponentSet.shareScreen.hide()};
SSPlayerController.prototype.displayShareScreen=function(a){var b=a.gaCategory;b||(b="lastscreen_v1_");$.slideshareEventManager.trackEvent(b+"share_cta_click");this._getShareScreen();this.currentComponentSet.shareScreen.showShareScreen({width:this.currentComponentSet.width,height:this.currentComponentSet.viewHeight,customizations:a.customizations});this.currentComponentSet.shareScreen.modalShare?this.currentComponentSet.shareScreen.modalShare.gaCategory=b:this.currentComponentSet.shareScreen.modalShare=
new PlayerModalShare({btnShare:".action-btns-container .action-btn.share",parentEl:".lastScreenContainer .lastScreen",el:".lastScreenContainer .lastScreen .modal-share",gaCategory:b},this.currentComponentSet.shareScreen);this.currentComponentSet.shareScreen.modalShare.updateEmbed()};
SSPlayerController.prototype.updateEmbedSizes=function(){var a=this.config.embed_sizes,b=this.slideAspectRatio;if(!("infographic"!==this.config.player_type||!a||!b)){for(var c in a.presets)a.presets.hasOwnProperty(c)&&(preset=a.presets[c],preset.size.height=parseInt(preset.size.width*b+49,10));this.currentComponentSet&&this.currentComponentSet.shareScreen&&this.currentComponentSet.shareScreen.populateEmbedSizes()}};
SSPlayerController.prototype._getShareScreen=function(){"undefined"===typeof this.currentComponentSet.shareScreen&&(this.currentComponentSet.shareScreen=new SSLastScreen({renderTo:this.currentComponentSet.container,settings:this.config.lastscreen,slideshowId:this.config.id,embed_code:this.config.embed_code,iframe_url:this.config.iframe_url,iframe_code:this.config.iframe_code,embed_sizes:this.config.embed_sizes,wp_code:this.config.wp_code,show_related_content:this.config.show_related_content,lastScreenClass:this.config.lastScreenClass,
disableRelated:this.config.disable_lastscreen,disableShare:this.config.disable_share,shareOptions:this.config.shareoptions,hostedIn:this.config.hosted_in,totalSlides:this.slideCount}));return this.currentComponentSet.shareScreen};SSPlayerController.prototype.loadFonts=function(a){"html"!==this.mode||!0===this.disableLoadingFonts||"initialized"===this.fontResources[a].status&&this.fontResources[a].load()};
SSPlayerController.prototype.getPrerenderSlideIndices=function(a){var b=a-this.PRERENDER_COUNT;1>b&&(b=1);a+=this.PRERENDER_COUNT;a>this.slideCount&&(a=this.slideCount);return[b,a]};
SSPlayerController.prototype._load=function(a,b){var c=navigator.userAgent.toLowerCase(),d=/msie/.test(c)&&!/opera/.test(c);if("video"!==this.config.player_type){var a=a||this.config.start_slide,e,f,g=this;this.loadFonts(Math.ceil(a/this.FONT_BATCH_COUNT));if(!b){e=this.getPrerenderSlideIndices(a,b);var c=e[0],h=e[1];for(e=c;e<=h;e++)this.config.show_image_player&&this.slides[e].render(),this.slides[e].show(),this.loadedSlides[e]=!0;if((d||"function"===typeof isIos&&isIos())&&"undefined"===typeof new_mobile_player){if(d=
this.currentComponentSet.slidedisplayer.prerenderedSlides)for(e=0;e<d.length;e++)if(f=d[e],f<c||f>h)f=this.slides[f],f.hide();this.currentComponentSet.slidedisplayer.prerenderedSlides=[]}this.currentComponentSet.slidedisplayer.setPrerenderedSlides({start:c,end:h})}this.config.disable_eagerload&&a===this.config.start_slide||(c=this.preloadAnchorIndex,this.preloadAnchorIndex=a,e=function(){g.preloadSlides()},this.config.preload_after_pageload&&!this.pageLoadFired?c||$(window).bind("load",e):(clearTimeout(this.preloadTimeoutId),
this.preloadTimeoutId=setTimeout(e,2E3)))}};
SSPlayerController.prototype.preloadSlides=function(){if(this.preloadAnchorIndex){var a=this.PRELOAD_PRE_LIMIT+this.PRELOAD_POST_LIMIT+1,b=this.preloadAnchorIndex-this.PRELOAD_PRE_LIMIT;1>b&&(b=1);a=b+a-1;a>this.slideCount&&(a=this.slideCount);var c=Math.ceil(b/this.FONT_BATCH_COUNT),d=Math.ceil(a/this.FONT_BATCH_COUNT);for(i=c;i<=d;i++)this.loadFonts(i);for(i=b;i<=a;i++)this.loadedSlides[i]||(slide=this.slides[i],this.config.show_image_player&&slide.render(),slide.load(),this.loadedSlides[i]=!0);
delete this.preloadAnchorIndex}};SSPlayerController.prototype.preloadMoreIfIdle=function(a){if(!this.config.disable_eagerload){var b=this.loadingSlides,a=b.indexOf(a);-1<a&&b.splice(a,1);if(!this.preloadAnchorIndex&&2>b.length){var c=this.loadedSlides.length+1;if(!(c>this.realSlideCount)){var d=this;setTimeout(function(){d._load(c,!0)},0)}}}};
SSPlayerController.prototype.play=function(a,b,c,d){if(this.initialized){if(void 0===a&&("undefined"!==typeof this.playQueue?(a=this.playQueue,delete this.playQueue):a=1),1>a&&(a=1),a>this.slideCount&&(a=this.slideCount),this.currentPosition!==a||b)"video"===this.config.player_type?this.currentComponentSet.slidedisplayer.start():(d&&(d.updateBamboo&&this.config.bambooleaf_enabled)&&this.updateBambooProperties({index:a}),$.slideshareEventManager.trigger("slidechanged",{index:a,force:b,source:c}))}else this.playQueue=
a||1};SSPlayerController.prototype.updateBambooProperties=function(a){var b=a.index<this.slideCount?a.index+1:1,a=1<a.index?a.index-1:1,c;for(c in this.componentSets){var d=this.componentSets[c];d&&d.toolbar&&d.toolbar.updateBamboo({nextInd:b,prevInd:a,nextHref:this.config.rel_slide_urls[b-1],prevHref:this.config.rel_slide_urls[a-1],nextTitle:this.config.slide_titles[b-1],prevTitle:this.config.slide_titles[a-1]})}};
SSPlayerController.prototype._enableVideoReloading=function(){var a=this.slides,b;for(b in a)a.hasOwnProperty(b)&&a[b]&&"ytube_video"===a[b].config.slideMode&&a[b].emptySlide()};
SSPlayerController.prototype.switchNativeView=function(a){if("nativefullscreen"===a){var b=this.currentComponentSet.container;b.length&&this.nativeFullScreen.request(b[0])}else this.nativeFullScreen.cancel();void 0===this.componentSets[a]&&(this.componentSets[a]=this.componentSets[this.currentViewMode]);this.currentComponentSet=this.componentSets[a];this.currentViewMode=a;this.currentComponentSet.slidedisplayer.emptySlides();this.configureComponentsForNativeMode(a);this._setModeForSlides(a);this._load(this.currentPosition);
this.updateCurrentPosition(this.currentPosition)};SSPlayerController.prototype._nativeFullScreenHandler=function(){var a=this;this.nativeFullScreen.isFullScreen()?this.currentViewMode="nativefullscreen":$.slideshareEventManager.trigger("leavefullscreen");window.setTimeout(function(){a.repaint.call(a)},500)};
SSPlayerController.prototype.nativeFullScreen={request:function(a){if(document.webkitFullscreenEnabled){var b=/safari/.test(navigator.userAgent.toLowerCase())&&!/chrome/.test(navigator.userAgent.toLowerCase());Element&&Element.ALLOW_KEYBOARD_INPUT&&!b?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen()}else document.mozFullScreenEnabled&&a.mozRequestFullScreen()},cancel:function(){document.webkitFullscreenEnabled?document.webkitCancelFullScreen():document.mozFullScreenEnabled&&
document.mozCancelFullScreen()},fullScreenChangeEventName:function(){if(document.webkitFullscreenEnabled)return"webkitfullscreenchange";if(document.mozFullScreenEnabled)return"mozfullscreenchange"},isFullScreen:function(){return document.webkitIsFullScreen||document.mozFullScreen}};
SSPlayerController.prototype._isNativeFullScreenSupported=function(){var a=navigator.userAgent.toLowerCase();navigator.appName.toLowerCase();var b=document.webkitFullscreenEnabled||document.mozFullScreenEnabled,a=/chrome/.test(a)||/firefox/.test(a)||/safari/.test(a);return b&&a};
SSPlayerController.prototype.leaveFullScreen=function(){this.currentComponentSet.container.removeClass("fullscreen");this.currentComponentSet.videobar&&(this.disableLeadForFullscreenVideo(!1),this.currentComponentSet.slidedisplayer.adjustSpinnerPosition(!1));this.currentComponentSet.lastscreen&&this.currentComponentSet.lastscreen.hide();if("nativefullscreen"===this.currentViewMode&&this.isNativeFullScreenSupported)this.switchNativeView("normal");else if(isIEAllVersion)try{window.close()}catch(a){}else"video"===
this.config.player_type?this.returnFromFullscreenForVideo():this.config.inpage_full_screen&&this.switchView("normal")};SSPlayerController.prototype.switchToFullScreen=function(){"video"===this.config.player_type?(this.currentComponentSet.container.addClass("fullscreen"),this.goHtmlFullscreenForVideo()):this.config.inpage_full_screen&&(this.currentComponentSet.container.addClass("fullscreen"),this.switchView("fullscreen"))};
SSPlayerController.prototype.switchView=function(a){this.config.show_image_player?("fullscreen"===a?(this.currentViewMode="nativefullscreen",this.currentComponentSet.container.addClass("non-native-fullscreen")):"normal"===a&&(this.currentViewMode="normal",this.currentComponentSet.container.removeClass("non-native-fullscreen"),this.switchNativeView(this.currentViewMode)),this.configureComponentsForNativeMode(a),this.repaint(),$(window).trigger("resize")):a!==this.currentViewMode&&(this.config.has_video&&
(this._enableVideoReloading(),$("[id*=ytube_player]").remove()),this._deactivateComponentSet(this.currentViewMode),void 0===this.componentSets[a]&&this._createComponentSet(a),this._activateComponentSet(a),this._setModeForSlides(a),this.setDimensions(),this.play(this.currentPosition,!0),this._load(this.currentPosition),this.updateCurrentPosition(this.currentPosition))};
SSPlayerController.prototype._activateComponentSet=function(a){var b=this.componentSets[a],c=b.navigators;this.currentComponentSet=b;this.currentViewMode=a;$.each(c,function(a,b){b.activate()});"fullscreen"===a||this.config.is_fullscreen?($(document).bind("keyup",this.exitFullScreenHandler),$(window).scrollTop(0)):($(document).unbind("keyup",this.exitFullScreenHandler),this.normalModeScrollPosition&&$(window).scrollTop(this.normalModeScrollPosition))};
SSPlayerController.prototype.exitFullScreenHandlerFactory=function(){return function(a){if(27===a.keyCode)try{$.slideshareEventManager.trigger("leavefullscreen")}catch(b){}}};SSPlayerController.prototype._deactivateComponentSet=function(a){$.each(this.componentSets[a].navigators,function(a,c){c.deactivate()});"fullscreen"===a&&this._destroyComponentSet("fullscreen");this.currentViewMode=this.currentComponentSet=null};
SSPlayerController.prototype._setModeForSlides=function(a){"video"!==this.config.player_type&&this.currentComponentSet.slidedisplayer.start({slides:this.slides,mode:a,playerBgColor:this._getPlayerBgColor(a)});this.currentComponentSet.slidedisplayer._bindEvents()};SSPlayerController.prototype.getFullScreenUrl=function(){return this.config.fullscreen_url?this.config.fullscreen_url+"/"+this.currentPosition:document.location};
SSPlayerController.prototype.generateErrorDom=function(a,b){var c=a+"_"+b.width+"_"+b.height,d=this.cachedDomElements[c];if(void 0===d){var d=b.width,e=b.height,f=e/3,f=f>d/4?d/4:f,g=parseInt(f/20,10),h=(e-f)/("document"===this.config.player_type?4:2),j=d/25,k=f-14,d=$(this.config[a]);d.css({height:e-h,padding:h+"px 14px 0"});e=d.children("div");e.css({"-moz-border-radius":g,"-webkit-border-radius":g,"-o-border-radius":g,"-ms-border-radius":g,"border-radius":g,height:f});e.children("img").css({margin:7,
height:k,width:k});e.children("div").css({left:k+14,padding:"14px 0 0 7px","font-size":j});this.cachedDomElements[c]=d}return $(d).clone()};SSPlayerController.prototype.disableLeadForFullscreenVideo=function(a){this.currentComponentSet.videobar.fullscreen=a;this.currentComponentSet.leadForm&&(a?this.currentComponentSet.leadForm.hideCta():this.currentComponentSet.leadForm.checkLeadFilledForAuthor()||this.currentComponentSet.leadForm.showCta())};
SSPlayerController.prototype.goHtmlFullscreenForVideo=function(){this.currentComponentSet.slidedisplayer.container.addClass("inPageFullscreen");var a=this.multimediaResource.videoPlayer,b=$(a.getContainer()),c=$(b.parent());this.normalPosition=b.css("position");this.normalZindex=b.css("z-index");this.normalLeft=b.css("left");this.normalTop=b.css("top");this.normalPlayerWidth=c.width();this.normalPlayerHeight=c.height();this.toolbarPaddingLeft=parseInt($(".toolbar").css("padding-left"),10);this.toolbarPadingRight=
parseInt($(".toolbar").css("padding-right"),10);this.fullscreenHeight=$(window).height()-this.TOOLBAR_HEIGHT;this.fullscreenWidth=$(window).width();c.css({position:"fixed",width:"100%",height:"100%",left:0,top:0,"z-index":this.VIDEO_FULLSCREEN_ZINDEX});a.resize(this.fullscreenWidth,this.fullscreenHeight);this.normalPlayerContainer=this.currentComponentSet.container;this.currentComponentSet.container=c;$(this.currentComponentSet.toolbar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:this.fullscreenWidth-
(this.toolbarPaddingLeft+this.toolbarPadingRight),position:"fixed",left:0,bottom:0});$(this.currentComponentSet.toolbar.volumeControl.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,position:"fixed",bottom:0});$(this.currentComponentSet.videobar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:"100%",position:"relative",left:0,bottom:0});this.currentComponentSet.videobar.setDimensions({height:this.fullscreenHeight,width:this.fullscreenWidth,fullscreen:!0});b=this.currentComponentSet.toolbar.getElements();
b.fullScreen.hide();b.leaveFullScreen.show();a.fullscreen=!0;setTimeout(function(){"PLAYING"===a.getState()&&a.play(!0)},this.VIDEO_REINITIALISE_TIME);this.currentViewMode="fullscreen"};
SSPlayerController.prototype.returnFromFullscreenForVideo=function(){this.currentComponentSet.slidedisplayer.container.removeClass("inPageFullscreen");var a=this.multimediaResource.videoPlayer,b=$(a.getContainer());$(b.parent()).css({position:"relative",height:this.normalPlayerHeight,width:this.normalPlayerWidth,"z-index":this.normalZindex,left:this.normalLeft,top:this.normalTop});a.resize(this.normalPlayerWidth,this.normalPlayerHeight);this.currentComponentSet.container=this.normalPlayerContainer;
b=this.currentComponentSet.toolbar.getElements();b.leaveFullScreen.hide();b.fullScreen.show();$(this.currentComponentSet.toolbar.container).css({position:"relative",height:this.TOOLBAR_HEIGHT,width:this.normalPlayerWidth-(this.toolbarPaddingLeft+this.toolbarPadingRight),"z-index":this.normalZindex,left:this.normalLeft,top:this.normalTop,bottom:0});$(this.currentComponentSet.toolbar.volumeControl.container).css({position:"relative","z-index":this.normalZindex});$(this.currentComponentSet.videobar.container).css({position:"relative",
height:this.MULTIMEDIABAR_HEIGHT,width:this.normalPlayerWidth,"z-index":this.normalZindex});this.currentComponentSet.videobar.setDimensions({height:this.normalPlayerHeight,width:this.normalPlayerWidth});a.fullscreen=!1;setTimeout(function(){"PLAYING"===a.getState()&&a.play(!0)},this.VIDEO_REINITIALISE_TIME);this.currentViewMode="normal"};SSPlayerController.prototype.isEmbedAndIE=function(){return isIEAllVersion&&"slideview"!==this.config.hosted_in};SSPlayerController.prototype.deactivateToolbar=function(){this.currentComponentSet.toolbar.deactivate()};
SSPlayerController.prototype.activateToolbar=function(){this.currentComponentSet.toolbar.activate()};SSPlayerController.prototype.isToolbarActive=function(){return this.currentComponentSet.toolbar.active};SSPlayerController.prototype.resizeVideoEmbeds=function(){if(this.currentComponentSet&&this.currentComponentSet.slidedisplayer&&this.currentComponentSet.slidedisplayer.container){var a=this.currentComponentSet.slidedisplayer.container,b=a.find(".ytube-container");0<b.length&&b.height(a.height())}};
SSPlayerController.prototype.isValidNextSlideshowExperiment=function(){return this.config.next_prev_experiment&&"presentation"===this.config.player_type&&!this.currentComponentSet.leadForm.exists()};
SSPlayerController.prototype.showNextSlideshowCTA=function(){var a=this;if(this.isValidNextSlideshowExperiment()&&$(".j-related-item a:visible").length&&!$(".j-next-container").is(":visible")){var b=$(".j-related-item a:visible").first(),b={id:b.data("ssid")||"0",thumb:b.find("img").attr("src")||"",title:b.attr("title")||"",url:b.attr("href")||"#",views:b.find(".j-related-views").html()||"0 views"};this.config.nextSlideshow=b;var c=this.currentComponentSet.container.find(".j-next-container"),d=c.find(".j-timer-count"),
e=2,f=function(){0===e&&(clearInterval(a.countDown),$.slideshareEventManager.trackEvent("next_slideshow_cta_loaded"),a.goToNextSlideshow());0<=e&&(d.html(e),e--)};c.find(".j-next-url").on("click",function(){$.slideshareEventManager.trackEvent("next_slideshow_cta_loaded");a.goToNextSlideshow()});c.find(".j-next-cancel").on("click",function(){a.hideNextSlideshowCTA()});$(".ssActions .j-tooltip").bind("click.cancel_next_slideshow",function(){a.hideNextSlideshowCTA()});c.length&&(c.find(".j-next-thumb").attr("src",
b.thumb),c.find(".j-next-title").html(b.title),c.find(".j-next-views").html(b.views),d.html(e+1),c.addClass("active"),this.countDown=setInterval(f,1E3),$.slideshareEventManager.trackEvent("next_slideshow_cta_opened"),$(document).bind("keyup.next_slideshow",$.proxy(a.nextSlideshowKeypressHandler,a)))}};SSPlayerController.prototype.nextSlideshowKeypressHandler=function(a){27===a.keyCode&&this.hideNextSlideshowCTA();13===a.keyCode&&($.slideshareEventManager.trackEvent("next_slideshow_cta_loaded"),this.goToNextSlideshow())};
SSPlayerController.prototype.goToNextSlideshow=function(){$.slideshareEventManager.trigger("updateNextSlideshowCookie",this.config.nextSlideshow.id);window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var a=!this.config.next_slideshow_pos?1:parseInt(this.config.next_slideshow_pos,10)+1;window.location.href=window.location.origin+this.config.nextSlideshow.url+"?next_slideshow="+a};
SSPlayerController.prototype.hideNextSlideshowCTA=function(){if($(".j-next-container").is(":visible")){$.slideshareEventManager.trackEvent("next_slideshow_cta_closed");clearInterval(this.countDown);var a=this.currentComponentSet.container.find(".j-next-container");a.removeClass("active");$(document).unbind("keyup.next_slideshow");$(".ssActions .j-tooltip").unbind("click.cancel_next_slideshow");a.find(".j-next-url, .j-next-cancel").unbind("click")}};
SSPlayerController.prototype.updateProgressBar=function(){0!==this.$slidesLoadedBar.length&&this.$slidesLoadedBar.width(100*(this.currentPosition/this.slideCount)+"%")};
window.Modernizr=function(a,b,c){function d(a,b){for(var d in a)if(h[a[d]]!==c)return"pfx"==b?a[d]:!0;return!1}var e={},f=b.documentElement;b.head||b.getElementsByTagName("head");var g=b.createElement("modernizr"),h=g.style,j=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),g={},k=[],l=function(a,c,d,e){var g,h=b.createElement("div");if(parseInt(d,10))for(;d--;)g=b.createElement("div"),g.id=e?e[d]:"modernizr"+(d+1),h.appendChild(g);d=["&shy;<style>",a,"</style>"].join("");h.id="modernizr";h.innerHTML+=
d;f.appendChild(h);a=c(h,a);h.parentNode.removeChild(h);return!!a},p,q={}.hasOwnProperty,t;typeof q!==c&&typeof q.call!==c?t=function(a,b){return q.call(a,b)}:t=function(a,b){return b in a&&typeof a.constructor.prototype[b]===c};var w=[,"touch"],D=[,["@media (",j.join("touch-enabled),("),"modernizr){#touch{top:9px;position:absolute}}"].join("")].join(""),s=w.length;l(D,function(b){for(var b=b.childNodes,c={};s--;)c[b[s].id]=b[s];e.touch="ontouchstart"in a||9===c.touch.offsetTop},s,w);g.touch=function(){return e.touch};
g.csstransforms=function(){return!!d(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};for(var u in g)t(g,u)&&(p=u.toLowerCase(),e[p]=g[u](),k.push((e[p]?"":"no-")+p));h.cssText="";g=null;e._version="2.0.6";e._prefixes=j;e.testProp=function(a){return d([a])};e.testStyles=l;return e}(this,this.document);
var isMobile=function(){return navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|IEMobile|webOS|Mobile|Windows Phone/i)},isIEAllVersion=function(){var a=navigator.userAgent.toLowerCase(),b=navigator.appName.toLowerCase();return/msie/.test(a)&&!/opera/.test(a)||/trident/.test(a)&&"netscape"===b}();
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&(Infinity!=d&&-Infinity!=d)&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in b&&b[d]===a)return d;return-1});function SSPlayer(a){this.config=a;this._init()}
SSPlayer.prototype._init=function(){var a=isMobile();this.config.touch=a&&(Modernizr.touch||"Windows Phone"==a)&&!cookie("nomobile");$.slideshareEventManager.registerPlayer(this);this.controller="undefined"!==typeof new_mobile_player?new MobileNewPlayerController(this.config):new SSPlayerController(this.config);this.$playerContainer=$(this.config.container);var b=this,c=function(){if(b.config.show_image_player){var d=$(".stage"),e=$("#svPlayerId"),f=$(".slide_container");if("presentation"===b.config.player_type||
"webinar"===b.config.player_type){var g=b.controller.currentPosition,h="ytube_video"===b.controller.slides[g].config.slideMode;d.css("height","auto");d.css("max-height","none");d.css("line-height","normal");d.removeClass("valign-first-slide");if(h){if("undefined"===typeof b.referenceSlideIndex)for(var j=b.controller.slides,k=1;k<=j.length;k++){var l=j[k];if("ytube_video"!==l.config.slideMode){b.referenceSlideIndex=l.index;break}}b.controller.currentComponentSet.slidedisplayer._scrollTo(b.referenceSlideIndex)}j=
"slideview"===b.config.hosted_in&&"normal"===b.controller.currentViewMode?f.find(".slide_image").height():("slideview"===b.config.hosted_in||"embed"===b.config.hosted_in)&&"nativefullscreen"===b.controller.currentViewMode?window.innerHeight:"embed"===b.config.hosted_in&&"normal"===b.controller.currentViewMode?window.innerHeight-$(".toolbar").height():d.height();k=$.map(e.find(".j-player-toolbar"),function(a){return $(a).height()}).reduce(function(a,b){return a+b},0);l=$(".j-clips-toolbar");l=l.is(":visible")?
l.height():0;$(".embed_player .stage").length&&($(".embed_player .stage").css("top",l),j-=l);d.css("height",j);d.css("max-height",j);d.css("line-height",j+"px");"slideview"===b.config.hosted_in&&!b.setMinHeight&&(d.css("min-height",100),e.css("min-height",100+k),b.setMinHeight=!0);b.controller.setDimensions(!1,b.config.touch);h&&(b.controller.currentComponentSet.slidedisplayer._scrollTo(g),b.controller.resizeVideoEmbeds());e=$("#"+b.controller.config.container+" .slide").eq(g-1).children(".slide_image");
"undefined"!==typeof e&&"undefined"!==typeof e[0]&&(d=d.width()/d.height(),e=e.naturalWidth()/e.naturalHeight(),d>e?(f.removeClass("wide_img"),f.addClass("tall_img")):(f.removeClass("tall_img"),f.addClass("wide_img")))}}else $.slideshareEventManager.trigger("repaint",{mobile:b.config.touch});a&&"document"===b.config.player_type&&($(window).unbind("resize",c),setTimeout(function(){$(window).bind("resize",c)},1E3))};"undefined"===typeof new_mobile_player&&$(window).bind("load resize",c)};
SSPlayer.prototype.play=function(a){this.controller.play(a||1)};SSPlayer.prototype.goToSlide=function(a){$.slideshareEventManager.trigger("gotoslide",a)};SSPlayer.prototype.gotoCurrent=function(){this.controller.play(this.controller.currentPosition,!0)};
